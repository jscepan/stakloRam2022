"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[724],{9724:(k,d,r)=>{r.r(d),r.d(d,{WorkOrderViewModule:()=>f});var g=r(8583),s=r(4655),p=r(4463),l=r(2134),O=r(2050),n=r(7716),_=r(7347),u=r(4333);function Z(e,i){if(1&e&&(n.TgZ(0,"td",15),n._uU(1),n.qZA()),2&e){const t=n.oxw(),o=t.index,c=t.$implicit,a=n.oxw(2);n.uIk("rowspan",a.cellRowspan[o].rowspan),n.xp6(1),n.hij(" ",c.description," ")}}function C(e,i){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td",15),n._uU(2),n.qZA(),n.YNc(3,Z,2,2,"td",22),n.TgZ(4,"td",15),n._uU(5),n.ALo(6,"number"),n.qZA(),n.TgZ(7,"td",15),n._uU(8),n.ALo(9,"number"),n.qZA(),n.TgZ(10,"td",15),n._uU(11),n.ALo(12,"number"),n.qZA(),n.TgZ(13,"td",15),n._uU(14),n.ALo(15,"number"),n.qZA(),n.TgZ(16,"td",15),n._uU(17),n.qZA(),n.qZA()),2&e){const t=i.$implicit,o=i.index,c=n.oxw(2);n.xp6(2),n.Oqu(o+1),n.xp6(1),n.Q6J("ngIf",c.cellRowspan[o].displayCell),n.xp6(2),n.Oqu(n.Dn7(6,7,t.dimension1,"1.2-2","de")),n.xp6(3),n.Oqu(n.Dn7(9,11,t.dimension2,"1.2-2","de")),n.xp6(3),n.Oqu(n.Dn7(12,15,t.quantity,"1.2-2","de")),n.xp6(3),n.hij(" ",n.Dn7(15,19,t.sumQuantity,"1.3-3","de")," "),n.xp6(3),n.Oqu(t.note)}}function M(e,i){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"p"),n._uU(2),n.qZA(),n._UZ(3,"img",23),n.qZA()),2&e){const t=i.$implicit,o=n.oxw(2);n.xp6(2),n.Oqu(t.description),n.xp6(1),n.s9C("src",o.getWorkOrderImageUrl(t.url),n.LSH)}}const P=function(){return{"border-collapse":"collapse"}};function h(e,i){if(1&e&&(n.TgZ(0,"div",1),n.TgZ(1,"div",2),n.TgZ(2,"div",3),n._UZ(3,"img",4),n.qZA(),n.TgZ(4,"div",5),n.TgZ(5,"div",6),n._uU(6),n.qZA(),n.TgZ(7,"div",6),n._uU(8),n.qZA(),n.TgZ(9,"div",6),n._uU(10),n.qZA(),n.TgZ(11,"div",7),n._uU(12),n.ALo(13,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"div",8),n._uU(15),n.qZA(),n.TgZ(16,"div",9),n.TgZ(17,"div",5),n.TgZ(18,"table"),n.TgZ(19,"tr"),n.TgZ(20,"td",10),n._uU(21),n.ALo(22,"translate"),n.qZA(),n.TgZ(23,"td",11),n._uU(24),n.qZA(),n.TgZ(25,"td",12),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.TgZ(28,"td",13),n._uU(29),n.qZA(),n.qZA(),n.TgZ(30,"tr"),n.TgZ(31,"td",10),n._uU(32),n.ALo(33,"translate"),n.qZA(),n.TgZ(34,"td",11),n._uU(35),n.qZA(),n.TgZ(36,"td",12),n._uU(37),n.ALo(38,"translate"),n.qZA(),n.TgZ(39,"td",13),n._uU(40),n.qZA(),n.qZA(),n.TgZ(41,"tr"),n.TgZ(42,"td",10),n._uU(43),n.ALo(44,"translate"),n.qZA(),n.TgZ(45,"td",11),n._uU(46),n.qZA(),n.TgZ(47,"td",12),n._uU(48),n.ALo(49,"translate"),n.qZA(),n.TgZ(50,"td",13),n._uU(51),n.ALo(52,"date"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(53,"div",14),n.TgZ(54,"table"),n.TgZ(55,"tr"),n.TgZ(56,"th"),n._uU(57),n.ALo(58,"translate"),n.qZA(),n.TgZ(59,"th",15),n._uU(60),n.ALo(61,"translate"),n.qZA(),n.TgZ(62,"th",15),n._uU(63),n.ALo(64,"translate"),n.qZA(),n.TgZ(65,"th",15),n._uU(66),n.ALo(67,"translate"),n.qZA(),n.TgZ(68,"th",15),n._uU(69),n.ALo(70,"translate"),n.qZA(),n.TgZ(71,"th",15),n._uU(72),n.ALo(73,"translate"),n.qZA(),n.TgZ(74,"th",15),n._uU(75),n.ALo(76,"translate"),n.qZA(),n.qZA(),n.YNc(77,C,18,23,"tr",16),n.qZA(),n.qZA(),n.TgZ(78,"div",17),n.TgZ(79,"div",6),n._uU(80),n.ALo(81,"translate"),n.qZA(),n.TgZ(82,"div",18),n._uU(83),n.qZA(),n.qZA(),n.TgZ(84,"div",19),n.YNc(85,M,4,2,"div",16),n.qZA(),n.TgZ(86,"div",20),n.TgZ(87,"div",21),n.TgZ(88,"div",6),n._uU(89),n.ALo(90,"translate"),n.qZA(),n._UZ(91,"div",18),n.qZA(),n.TgZ(92,"div",21),n.TgZ(93,"div",6),n._uU(94),n.ALo(95,"translate"),n.qZA(),n._UZ(96,"div",18),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const t=n.oxw();n.xp6(3),n.s9C("src","assets/images/company_logo.PNG",n.LSH),n.xp6(3),n.hij(" ",(null==t.settings?null:t.settings.workOrderHeadingLine1)||"Proizvodnja termoizolacionog stakla"," "),n.xp6(2),n.hij(" ",(null==t.settings?null:t.settings.workOrderHeadingLine2)||"Oblikovanje i obrada ravnog stakla"," "),n.xp6(2),n.hij(" ",(null==t.settings?null:t.settings.workOrderHeadingLine3)||"Proizvodnja lajsni za ramove i uramljivanje slika"," "),n.xp6(2),n.AsE(" ",n.lcZ(13,34,"email"),": ",(null==t.settings?null:t.settings.companyEmail)||"stakloramplus@hallsys.net"," "),n.xp6(3),n.hij(" ",(null==t.settings?null:t.settings.workOrderCompanyDescription)||"21400 Ba\u010dka Palanka. \u017darka Zrenjanina 70; Tel.: 021/60 44 182; PIB: 105509737; T.R.: 310-16916-02 NLB Banka"," "),n.xp6(6),n.hij("",n.lcZ(22,36,"orderer"),":"),n.xp6(3),n.Oqu(t.workOrder.buyer.name),n.xp6(2),n.hij("",n.lcZ(27,38,"place"),":"),n.xp6(3),n.Oqu(t.workOrder.placeOfIssue),n.xp6(3),n.hij("",n.lcZ(33,40,"forNeedsOf"),":"),n.xp6(3),n.Oqu(t.workOrder.forPerson),n.xp6(2),n.hij("",n.lcZ(38,42,"descriptionOfWork"),":"),n.xp6(3),n.Oqu(t.workOrder.description),n.xp6(3),n.hij("",n.lcZ(44,44,"workOrderNr"),":"),n.xp6(3),n.Oqu(t.getWorkOrderNumber(t.workOrder)),n.xp6(2),n.hij("",n.lcZ(49,46,"date"),":"),n.xp6(3),n.hij(" ",n.xi3(52,48,t.workOrder.dateOfCreate,"dd-MM-yyyy")," "),n.xp6(3),n.Akn(n.DdM(71,P)),n.xp6(3),n.Oqu(n.lcZ(58,51,"num")),n.xp6(3),n.hij(" ",n.lcZ(61,53,"typeOfGlassOrService")," "),n.xp6(3),n.Oqu(n.lcZ(64,55,"width")),n.xp6(3),n.Oqu(n.lcZ(67,57,"height")),n.xp6(3),n.Oqu(n.lcZ(70,59,"pcs")),n.xp6(3),n.Oqu(n.lcZ(73,61,"mm2")),n.xp6(3),n.Oqu(n.lcZ(76,63,"note")),n.xp6(2),n.Q6J("ngForOf",t.workOrder.workOrderItems),n.xp6(3),n.hij("",n.lcZ(81,65,"notes"),":"),n.xp6(3),n.hij(" ",t.workOrder.note," "),n.xp6(2),n.Q6J("ngForOf",t.workOrder.images),n.xp6(4),n.hij("",n.lcZ(90,67,"goodsGiveBy"),":"),n.xp6(5),n.hij("",n.lcZ(95,69,"goodsTakenBy"),":")}}const m=[{path:"",component:(()=>{class e{constructor(t,o,c){this.route=t,this.webService=o,this.settingsStoreService=c,this.subs=new p.L,this.workOrderOID=null,this.getWorkOrderNumber=l.Nw,this.cellRowspan=[],this.getWorkOrderImageUrl=l.Er}ngOnInit(){this.workOrderOID=this.route.snapshot.paramMap.get("workOrderOID"),this.subs.sink=this.settingsStoreService.dataLoaded$.subscribe(t=>{t&&(this.settings=this.settingsStoreService.getSettings(),this.workOrderOID&&(this.subs.sink=this.webService.getEntityByOid(this.workOrderOID).subscribe(o=>{this.workOrder=o,this.generateTableForWorkOrderItems()})))})}generateTableForWorkOrderItems(){var t;let o=1,c=0;this.cellRowspan.push({displayCell:1===o,rowspan:o});for(let a=1;a<this.workOrder.workOrderItems.length;a++)this.workOrder.workOrderItems[a].description===(null===(t=this.workOrder.workOrderItems[a-1])||void 0===t?void 0:t.description)?o++:(o=1,c=a),this.cellRowspan.push({displayCell:1===o,rowspan:o}),this.cellRowspan[c].rowspan=o}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.gz),n.Y36(O.o),n.Y36(_.G))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-work-order-view"]],features:[n._Bn([O.o])],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"header"],[1,"logo"],[3,"src"],[1,"heading"],[1,"title"],[1,"email"],[1,"company-description"],[1,"body-content"],[1,"column1"],[1,"column2"],[1,"column3"],[1,"column4"],[1,"table"],[1,"right"],[4,"ngFor","ngForOf"],[1,"note"],[1,"description"],[1,"images"],[1,"signature"],[1,"signature-container"],["class","right",4,"ngIf"],[1,"image",3,"src"]],template:function(t,o){1&t&&n.YNc(0,h,97,72,"div",0),2&t&&n.Q6J("ngIf",o.workOrder)},directives:[g.O5,g.sg],pipes:[u.X$,g.uU,g.JJ],styles:["[_nghost-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:300px}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:600;padding:20px;font-size:1.14em}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:uppercase}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{text-align:center;font-size:.8em}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]{border-top:1px solid var(--color-main);width:100%}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-weight:700}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .column1[_ngcontent-%COMP%]{width:130px}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .column2[_ngcontent-%COMP%]{width:260px}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .column3[_ngcontent-%COMP%]{width:70px}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .column4[_ngcontent-%COMP%]{width:120px}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border-collapse:collapse;color:var(--color-black);font-size:1.14em}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid var(--color-black);background-color:var(--color-white);-webkit-print-color-adjust:exact}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border:1px solid var(--color-black)}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid var(--color-black);padding:.25rem}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:var(--color-main-lighter);-webkit-print-color-adjust:exact}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.9em}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;flex-grow:1;justify-content:space-between}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{object-fit:contain;width:350px}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:20px;justify-content:space-between}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.container[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:150px;border-bottom:1px solid var(--color-black)}.right[_ngcontent-%COMP%]{text-align:end}"]}),e})(),data:{permission:"WORK_ORDER_VIEW"}}];let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.Bz.forChild(m)],s.Bz]}),e})();var w=r(2024),A=r(8966),v=r(7389),b=r(3225);let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.ez,x,u.aw,w.h,A.Is,b.SettingsModule,v.N]]}),e})()}}]);