"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[49],{7049:(g,c,e)=>{e.r(c),e.d(c,{UserProfileModule:()=>T});var o=e(6895),m=e(8490),a=e(4494),s=e(9549),u=e(4144),n=e(4006),d=e(4385),b=e(2024),p=e(8729),x=e(4794),P=e(5595),A=e(4463),O=e(5327),v=e(6254),t=e(4650),M=e(8794),E=e(7070),U=e(8933),C=e(42),Z=e(3238);function S(i,l){if(1&i&&(t.TgZ(0,"mat-option",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const r=l.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",t.lcZ(2,2,r)," ")}}function I(i,l){if(1&i){const r=t.EpF();t.TgZ(0,"form",4)(1,"div",5)(2,"mat-form-field")(3,"mat-label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"input",6),t.qZA(),t.TgZ(7,"mat-form-field")(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"input",8),t.qZA(),t.TgZ(17,"mat-form-field")(18,"mat-label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"mat-select",9),t.YNc(22,S,3,4,"mat-option",10),t.qZA()()(),t.TgZ(23,"div",11)(24,"app-button",12),t.NdJ("clickEvent",function(){t.CHM(r);const f=t.oxw();return t.KtG(f.cancel())}),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"app-button",13),t.NdJ("clickEvent",function(){t.CHM(r);const f=t.oxw();return t.KtG(f.handleSubmitButton())}),t.ALo(27,"translate"),t.qZA()()()}if(2&i){const r=t.oxw();t.Q6J("formGroup",r.formGroup),t.xp6(3),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(5,25,"username")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(10,27,"fullName")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(15,29,"email")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(20,31,"language")," "),t.xp6(3),t.Q6J("ngForOf",r.languages),t.xp6(2),t.Q6J("text",t.lcZ(25,33,"cancel")),t.xp6(2),t.Q6J("text",t.lcZ(27,35,"save"))("disabled",!r.formGroup.dirty||r.formGroup.invalid)}}const L=[{path:"",component:(()=>{class i{constructor(r,h,f,$,w){this.globalService=r,this.webService=h,this.translateService=f,this.languageService=$,this.authStoreService=w,this.subs=new A.L,this.languages=this.languageService.supportedLanguages}ngOnInit(){this.user=this.authStoreService.user,this.formGroup=new n.nJ({username:new n.p4(this.user?.username||"",[n.kI.required]),fullName:new n.p4(this.user?.fullName||"",[n.kI.required]),email:new n.p4(this.user?.email||"",[n.kI.required,n.kI.email]),language:new n.p4(this.user?.language||this.languages[0],[n.kI.required])})}cancel(){}handleSubmitButton(){this.user&&this.webService.updateUserProfile(this.user.oid,this.formGroup.value).subscribe(r=>{r&&(this.authStoreService.user=r,this.languageService.changeLanguage(r.language),this.globalService.showBasicAlert(x.I.success,this.translateService.instant("success"),this.translateService.instant("profileSuccessfullyUpdated")))})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(t.Y36(M.U),t.Y36(v.u),t.Y36(m.sK),t.Y36(E.T),t.Y36(U.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-profile"]],features:[t._Bn([v.u,O.T,P.y])],decls:7,vars:4,consts:[[1,"wrapper"],[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["matInput","","formControlName","username"],["matInput","","formControlName","fullName"],["matInput","","formControlName","email"],["formControlName","language"],[3,"value",4,"ngFor","ngForOf"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"],[3,"value"]],template:function(r,h){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,I,28,37,"form",3),t.qZA()()),2&r&&(t.xp6(4),t.hij(" ",t.lcZ(5,2,"userProfile")," "),t.xp6(2),t.Q6J("ngIf",h.formGroup))},dependencies:[o.sg,o.O5,C.r,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,s.KE,s.hX,u.Nt,d.gD,Z.ey,m.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex-direction:column;margin-top:20px;display:flex}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}"]}),i})()}];let N=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.Bz.forChild(L),p.Bz]}),i})(),T=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[o.ez,N,m.aw,a.p,b.h,n.UX,u.c,s.lN,d.LD]}),i})()},287:(g,c,e)=>{e.d(c,{h:()=>o});class o{constructor(){this.criteriaQuick="",this.betweenAttributes=[],this.ordering="ASC"}getBetweenAttributes(){return this.betweenAttributes}addBetweenAttribute(a){let s=this.betweenAttributes.findIndex(u=>u.attribute===a.attribute);s<0?this.betweenAttributes.push(a):this.betweenAttributes[s]=a}clearAllBetweenAttributes(){this.betweenAttributes=[]}removeBetweenAttribute(a){let s=this.betweenAttributes.findIndex(u=>u.attribute===a);s>=0&&this.betweenAttributes.splice(s,1)}}},5595:(g,c,e)=>{e.d(c,{y:()=>s});var o=e(591),m=e(537),a=e(287);class s{constructor(){this.entities$=new o.X([]),this.totalEntitiesLength$=new o.X(void 0),this.bottomReached$=new o.X(!1),this.isLoading$=new o.X(!1),this.entities=this.entities$.asObservable(),this.totalEntitiesLength=this.totalEntitiesLength$.asObservable(),this.isLoading=this.isLoading$.asObservable(),this.searchModel=new a.h,this.NUMBER_OF_ITEMS_ON_PAGE=50}get numberOfItemsOnPage(){return this.NUMBER_OF_ITEMS_ON_PAGE}set numberOfItemsOnPage(n){this.NUMBER_OF_ITEMS_ON_PAGE=n,this.requestFirstPage()}resetNumberOfItemsOnPage(){this.NUMBER_OF_ITEMS_ON_PAGE=50,this.requestFirstPage()}setWebService(n){return this.webService=n,this}setOrdering(n){return this.searchModel.ordering=n,this}setFilter(n){this.searchModel=n,this.requestFirstPage()}requestFirstPage(){this.bottomReached$.next(!1),this.entities$.next([]),this.totalEntitiesLength$.next(0),this.requestNextPage()}requestNextPage(){this.bottomReached$.getValue()||(this.isLoading$.next(!0),this.webService?.searchEntities(this.searchModel,this.entities$.getValue().length||0,this.NUMBER_OF_ITEMS_ON_PAGE).pipe((0,m.x)(()=>{this.isLoading$.next(!1)})).subscribe(n=>{this.entities$.next(this.entities$.getValue().concat(n.entities));const d=this.entities$.getValue().length||0;this.bottomReached$.next(!(d<n.totalCount)),this.totalEntitiesLength$.next(n.totalCount)}))}}}}]);