"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[462],{3462:(v,c,n)=>{n.r(c),n.d(c,{UserProfileModule:()=>$});var s=n(8583),m=n(4333),f=n(7942),d=n(7322),r=n(3722),o=n(3679),g=n(4107),Z=n(2024),p=n(4655),P=n(4794),A=n(5595),b=n(4463),M=n(7865),x=n(6254),t=n(7716),C=n(8794),U=n(7070),O=n(8933),T=n(42),E=n(1862);function S(i,a){if(1&i&&(t.TgZ(0,"mat-option",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function L(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"form",4),t.TgZ(1,"div",5),t.TgZ(2,"mat-form-field"),t.TgZ(3,"mat-label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"input",6),t.qZA(),t.TgZ(7,"mat-form-field"),t.TgZ(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field"),t.TgZ(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"input",8),t.qZA(),t.TgZ(17,"mat-form-field"),t.TgZ(18,"mat-label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"mat-select",9),t.YNc(22,S,3,4,"mat-option",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"app-button",12),t.NdJ("clickEvent",function(){return t.CHM(e),t.oxw().cancel()}),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"app-button",13),t.NdJ("clickEvent",function(){return t.CHM(e),t.oxw().handleSubmitButton()}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(3),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(5,25,"username")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(10,27,"fullName")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(15,29,"email")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(20,31,"language")," "),t.xp6(3),t.Q6J("ngForOf",e.languages),t.xp6(2),t.Q6J("text",t.lcZ(25,33,"cancel")),t.xp6(2),t.Q6J("text",t.lcZ(27,35,"save"))("disabled",!e.formGroup.dirty||e.formGroup.invalid)}}const N=[{path:"",component:(()=>{class i{constructor(e,l,u,h,y){this.globalService=e,this.webService=l,this.translateService=u,this.languageService=h,this.authStoreService=y,this.subs=new b.L,this.languages=this.languageService.supportedLanguages}ngOnInit(){var e,l,u,h;this.user=this.authStoreService.user,this.formGroup=new o.cw({username:new o.NI((null===(e=this.user)||void 0===e?void 0:e.username)||"",[o.kI.required]),fullName:new o.NI((null===(l=this.user)||void 0===l?void 0:l.fullName)||"",[o.kI.required]),email:new o.NI((null===(u=this.user)||void 0===u?void 0:u.email)||"",[o.kI.required,o.kI.email]),language:new o.NI((null===(h=this.user)||void 0===h?void 0:h.language)||this.languages[0],[o.kI.required])})}cancel(){}handleSubmitButton(){this.user&&this.webService.updateUserProfile(this.user.oid,this.formGroup.value).subscribe(e=>{e&&(this.authStoreService.user=e,this.languageService.changeLanguage(e.language),this.globalService.showBasicAlert(P.I.success,this.translateService.instant("success"),this.translateService.instant("profileSuccessfullyUpdated")))})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.U),t.Y36(x.u),t.Y36(m.sK),t.Y36(U.T),t.Y36(O.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-profile"]],features:[t._Bn([x.u,M.T,A.y])],decls:7,vars:4,consts:[[1,"wrapper"],[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["matInput","","formControlName","username"],["matInput","","formControlName","fullName"],["matInput","","formControlName","email"],["formControlName","language"],[3,"value",4,"ngFor","ngForOf"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"],[3,"value"]],template:function(e,l){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.YNc(6,L,28,37,"form",3),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,2,"userProfile")," "),t.xp6(2),t.Q6J("ngIf",l.formGroup))},directives:[s.O5,o._Y,o.JL,o.sg,d.KE,d.hX,r.Nt,o.Fj,o.JJ,o.u,g.gD,s.sg,T.r,E.ey],pipes:[m.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex-direction:column;margin-top:20px;display:flex}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}"]}),i})()}];let I=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.Bz.forChild(N)],p.Bz]}),i})(),$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[s.ez,I,m.aw,f.p,Z.h,o.UX,r.c,d.lN,g.LD]]}),i})()},287:(v,c,n)=>{n.d(c,{h:()=>s});class s{constructor(){this.criteriaQuick="",this.objectsOIDS=[],this.attributes=[],this.ordering="ASC"}}},5595:(v,c,n)=>{n.d(c,{y:()=>f});var s=n(6215),m=n(287);class f{constructor(){this.entities$=new s.X([]),this.totalEntitiesLength$=new s.X(void 0),this.bottomReached$=new s.X(!1),this.isLoading$=new s.X(!1),this.entities=this.entities$.asObservable(),this.totalEntitiesLength=this.totalEntitiesLength$.asObservable(),this.isLoading=this.isLoading$.asObservable(),this.searchModel=new m.h,this.NUMBER_OF_ITEMS_ON_PAGE=50}get numberOfItemsOnPage(){return this.NUMBER_OF_ITEMS_ON_PAGE}setWebService(r){return this.webService=r,this}setOrdering(r){return this.searchModel.ordering=r,this}setFilter(r){this.searchModel=r,this.requestFirstPage()}requestFirstPage(){this.bottomReached$.next(!1),this.entities$.next([]),this.totalEntitiesLength$.next(0),this.requestNextPage()}requestNextPage(){var r;this.bottomReached$.getValue()||(this.isLoading$.next(!0),null===(r=this.webService)||void 0===r||r.searchEntities(this.searchModel,this.entities$.getValue().length||0,this.NUMBER_OF_ITEMS_ON_PAGE).subscribe(o=>{this.entities$.next(this.entities$.getValue().concat(o.entities));const g=this.entities$.getValue().length||0;this.bottomReached$.next(!(g<o.totalCount)),this.totalEntitiesLength$.next(o.totalCount),this.isLoading$.next(!1)}))}}}}]);