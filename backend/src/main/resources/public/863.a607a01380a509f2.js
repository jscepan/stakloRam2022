"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[863],{2863:(I,h,r)=>{r.r(h),r.d(h,{HistoriesModule:()=>It});var l=r(6895),g=r(8729),T=r(7095),m=r(5412),f=r(6498),A=r(4463),d=r(7379),N=r(5595),v=r(4292),x=r(136),B=r(655),D=r(3429),F=r(8228),L=r(3709);class P extends F.g{constructor(){super(...arguments),this.action="",this.objectType="",this.previousValue="",this.newValue="",this.time=new Date,this.user=new L.T}}(0,B.gn)([(0,D.D)(()=>L.T)],P.prototype,"user",void 0);var t=r(4650),J=r(3164);let Z=(()=>{class e extends v.h{constructor(n){super(n,P,x._d),this.baseWebService=n}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(J.I))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var G=r(537);function Q(){const e=new Map;return e.set("description","description"),e.set("uom","uom"),e.set("pricePerUnit","pricePerUnit"),e.set("quantity","quantity"),e.set("netPrice","netPrice"),e.set("vatAmount","vatAmount"),e.set("vatRate","vatRate"),e.set("grossPrice","grossPrice"),e}function Y(){const e=new Map;return e.set("name","name"),e.set("description","description"),e}var b=r(8490),U=r(42),E=r(1572);function tt(e,s){if(1&e&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Oqu(n.value)}}const _=function(e){return{different:e}};function et(e,s){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const n=t.oxw(),i=n.index,a=n.$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(2,_,i>1&&c.fields[i-1].value!=c.fields[i].value)),t.xp6(1),t.hij(" ",a.value," ")}}function nt(e,s){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=t.oxw(),i=n.index,a=n.$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(5,_,i>1&&c.fields[i-1].value!=c.fields[i].value)),t.xp6(1),t.hij(" ",t.xi3(2,2,a.value,"dd.MM.yyyy")," ")}}function it(e,s){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=t.oxw(),i=n.index,a=n.$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(5,_,i>1&&c.fields[i-1].value!=c.fields[i].value)),t.xp6(1),t.hij(" ",t.xi3(2,2,a.value,"hh:ss")," ")}}function ot(e,s){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const n=t.oxw(),i=n.index,a=n.$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(2,_,i>1&&c.fields[i-1].value!=c.fields[i].value)),t.xp6(1),t.hij(" ",a.value," ")}}function rt(e,s){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=t.oxw(),i=n.index,a=n.$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(6,_,i>1&&c.fields[i-1].value!==a.value)),t.xp6(1),t.hij(" ",t.Dn7(2,2,a.value,"1.2-2","de")," ")}}function st(e,s){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw(),i=n.index,a=n.$implicit,c=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(4,_,i>1&&c.fields[i-1].value!==a.value)),t.xp6(1),t.hij(" ",t.lcZ(2,2,a.value?"yes":"no")," ")}}function at(e,s){1&e&&t._UZ(0,"td")}function ct(e,s){if(1&e&&(t.ynx(0)(1,9),t.YNc(2,et,2,4,"td",10),t.YNc(3,nt,3,7,"td",10),t.YNc(4,it,3,7,"td",10),t.YNc(5,ot,2,4,"td",10),t.YNc(6,rt,3,8,"td",10),t.YNc(7,st,3,6,"td",10),t.YNc(8,at,1,0,"td",11),t.BQk()()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngSwitch",n.dataType),t.xp6(1),t.Q6J("ngSwitchCase","string"),t.xp6(1),t.Q6J("ngSwitchCase","date"),t.xp6(1),t.Q6J("ngSwitchCase","time"),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngSwitchCase","numberDecimal"),t.xp6(1),t.Q6J("ngSwitchCase","boolean")}}function lt(e,s){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,ct,9,7,"ng-container",4),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngForOf",n.fields)}}function pt(e,s){1&e&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"noResults")," "))}function ut(e,s){1&e&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner"),t.qZA())}var o=(()=>{return(e=o||(o={})).STRING="string",e.DATE="date",e.TIME="time",e.NUMBER="number",e.NUMBER_DEC="numberDecimal",e.OBJECT="object",e.BOOLEAN="boolean",e.ARRAY="array",o;var e})();let mt=(()=>{class e{constructor(n,i,a,c){this.dialogRef=n,this.data=i,this.webService=a,this.translateService=c,this.subs=new A.L,this.isLoading=!0,this.tableHeader=[],this.tableRow=[]}ngOnInit(){this.isLoading=!0,this.subs.sink=this.webService.getEntityByOid(this.data.oid).pipe((0,G.x)(()=>{this.isLoading=!1})).subscribe(n=>{this.history=n,this.convertHistoryToTable()})}convertHistoryToTable(){if(this.history){this.tableHeader=[{value:this.translateService.instant("attribute")}],("UPDATE"===this.history.action||"DELETE"===this.history.action)&&this.tableHeader.push({value:this.translateService.instant("previousValue")}),("UPDATE"===this.history.action||"CREATE"===this.history.action)&&this.tableHeader.push({value:this.translateService.instant("newValue")}),this.tableRow=[];const a=this.history.previousValue?JSON.parse(this.history.previousValue):null,c=this.history.newValue?JSON.parse(this.history.newValue):null;console.log(a),console.log(c);let p=new Map;switch(this.history.objectType){case"user":p=function q(){const e=new Map;return e.set("username",{type:o.STRING,propertyName:"username"}),e.set("fullName",{type:o.STRING,propertyName:"fullName"}),e.set("displayName",{type:o.STRING,propertyName:"displayName"}),e.set("email",{type:o.STRING,propertyName:"email"}),e.set("language",{type:o.STRING,propertyName:"language"}),e.set("enabled",{type:o.BOOLEAN,propertyName:"enabled"}),e}();break;case"workorder":p=function $(){const e=new Map;return e.set("buyer",{type:o.OBJECT,propertyName:"buyer",objectAttr:"name"}),e.set("number",{type:o.STRING,propertyName:"number"}),e.set("dateOfCreate",{type:o.DATE,propertyName:"dateOfCreate"}),e.set("description",{type:o.STRING,propertyName:"description"}),e.set("forPerson",{type:o.STRING,propertyName:"forPerson"}),e.set("note",{type:o.STRING,propertyName:"note"}),e.set("placeOfIssue",{type:o.STRING,propertyName:"placeOfIssue"}),e}();break;case"invoice":p=function V(){const e=new Map;return e.set("buyer",{type:o.OBJECT,propertyName:"buyer",objectAttr:"name"}),e.set("number",{type:o.STRING,propertyName:"number"}),e.set("numberOfCashBill",{type:o.STRING,propertyName:"numberOfCashBill"}),e.set("country",{type:o.STRING,propertyName:"country"}),e.set("currency",{type:o.STRING,propertyName:"currency"}),e.set("methodOfPayment",{type:o.STRING,propertyName:"methodOfPayment"}),e.set("placeOfIssue",{type:o.STRING,propertyName:"placeOfIssue"}),e.set("dateOfCreate",{type:o.DATE,propertyName:"dateOfCreate"}),e.set("dateOfMaturity",{type:o.DATE,propertyName:"dateOfMaturity"}),e.set("dateOfTurnover",{type:o.DATE,propertyName:"dateOfTurnover"}),e.set("comment",{type:o.STRING,propertyName:"comment"}),e.set("netAmount",{type:o.NUMBER_DEC,propertyName:"netAmount"}),e.set("vatAmount",{type:o.NUMBER_DEC,propertyName:"vatAmount"}),e.set("vatRate",{type:o.NUMBER_DEC,propertyName:"vatRate"}),e.set("grossAmount",{type:o.NUMBER_DEC,propertyName:"grossAmount"}),e.set("advancePayAmount",{type:o.NUMBER_DEC,propertyName:"advancePayAmount"}),e.set("invoiceItems",{type:o.ARRAY,propertyName:"items",arrayElementMapFunction:Q()}),e.set("notes",{type:o.ARRAY,propertyName:"notes",arrayElementMapFunction:Y()}),e}();break;case"income":p=function W(){const e=new Map;return e.set("date",{type:o.DATE,propertyName:"date"}),e.set("amount",{type:o.NUMBER_DEC,propertyName:"amount"}),e.set("comment",{type:o.STRING,propertyName:"comment"}),e.set("bankStatementNumber",{type:o.STRING,propertyName:"bankStatementNumber"}),e.set("buyer",{type:o.OBJECT,propertyName:"buyer",objectAttr:"name"}),e}();break;case"outcome":p=function K(){const e=new Map;return e.set("date",{type:o.DATE,propertyName:"date"}),e.set("amount",{type:o.NUMBER_DEC,propertyName:"amount"}),e.set("comment",{type:o.STRING,propertyName:"comment"}),e.set("bankStatementNumber",{type:o.STRING,propertyName:"bankStatementNumber"}),e.set("buyer",{type:o.OBJECT,propertyName:"buyer",objectAttr:"name"}),e}();break;case"buyer":p=function z(){const e=new Map;return e.set("name",{type:o.STRING,propertyName:"name"}),e.set("pib",{type:o.STRING,propertyName:"pib"}),e.set("maticalNumber",{type:o.STRING,propertyName:"maticalNumber"}),e.set("address",{type:o.STRING,propertyName:"address"}),e.set("city",{type:o.OBJECT,propertyName:"city",objectAttr:"name"}),e.set("contactPerson",{type:o.STRING,propertyName:"contactPerson"}),e.set("email",{type:o.STRING,propertyName:"email"}),e.set("phoneNumberFix",{type:o.STRING,propertyName:"phoneNumberFix"}),e.set("phoneNumberMobile",{type:o.STRING,propertyName:"phoneNumberMobile"}),e.set("jbkjs",{type:o.STRING,propertyName:"jbkjs"}),e.set("account",{type:o.STRING,propertyName:"account"}),e}();break;case"city":p=function X(){const e=new Map;return e.set("name",{type:o.STRING,propertyName:"name"}),e.set("zipCode",{type:o.STRING,propertyName:"zipCode"}),e.set("country",{type:o.OBJECT,propertyName:"jbkjs",objectAttr:"description"}),e}();break;case"country":p=function k(){const e=new Map;return e.set("description",{type:o.STRING,propertyName:"description"}),e.set("identificationCode",{type:o.STRING,propertyName:"identificationCode"}),e}()}for(var[n,i]of p){const y=[{dataType:o.STRING,value:this.translateService.instant(i.propertyName)}];if(a)if(i.type===o.OBJECT&&i.objectAttr)y.push({dataType:o.STRING,value:a[n][i.objectAttr]});else if(i.type===o.ARRAY){let u="";a[n].forEach(S=>{i.arrayElementMapFunction.forEach(C=>{u+=this.translateService.instant(C),u+=": ",u+=S[C],u+=", "})}),y.push({dataType:o.STRING,value:u})}else y.push({dataType:i.type,value:a[n]});if(c)if(i.type===o.OBJECT&&i.objectAttr)y.push({dataType:o.STRING,value:c[n][i.objectAttr]});else if(i.type===o.ARRAY){let u="";c[n].forEach(S=>{i.arrayElementMapFunction.forEach(C=>{u+=this.translateService.instant(C),u+=": ",u+=S[C],u+=", "})}),y.push({dataType:o.STRING,value:u})}else y.push({dataType:i.type,value:c[n]});this.tableRow.push({fields:y})}}}exit(){this.dialogRef.close(!1)}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.so),t.Y36(m.WI),t.Y36(Z),t.Y36(b.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-history-view"]],features:[t._Bn([Z,d.e,N.y])],decls:32,vars:36,consts:[[1,"container"],[1,"title"],[1,"content"],[1,"table"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass"],[1,"no-results"],[1,"spinner"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.ALo(10,"translate"),t.ALo(11,"translate"),t.ALo(12,"lowercase"),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.ALo(15,"translate"),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"div"),t._uU(18),t.ALo(19,"translate"),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"div",2)(22,"div",3)(23,"table")(24,"tr"),t.YNc(25,tt,2,1,"th",4),t.qZA(),t.YNc(26,lt,2,1,"tr",4),t.qZA()(),t.YNc(27,pt,3,3,"div",5),t.YNc(28,ut,2,0,"div",6),t.qZA(),t.TgZ(29,"div",7)(30,"app-button",8),t.NdJ("clickEvent",function(){return i.exit()}),t.ALo(31,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,14,"historyView")," "),t.xp6(3),t.AsE("",t.lcZ(7,16,"madeBy"),": ",null==i.history||null==i.history.user?null:i.history.user.displayName,""),t.xp6(3),t.AsE(" ",t.lcZ(10,18,"type"),": ",t.lcZ(11,20,t.lcZ(12,22,(null==i.history?null:i.history.action)||""))," "),t.xp6(5),t.AsE("",t.lcZ(15,24,"date"),": ",t.xi3(16,26,null==i.history?null:i.history.time,"dd.MM.yyyy"),""),t.xp6(4),t.AsE("",t.lcZ(19,29,"time"),": ",t.xi3(20,31,null==i.history?null:i.history.time,"hh:ss"),""),t.xp6(7),t.Q6J("ngForOf",i.tableHeader),t.xp6(1),t.Q6J("ngForOf",i.tableRow),t.xp6(1),t.Q6J("ngIf",!i.history&&!i.isLoading),t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(2),t.Q6J("text",t.lcZ(31,34,"cancel")))},dependencies:[l.mk,l.sg,l.O5,l.RF,l.n9,l.ED,U.r,E.Ou,l.i8,l.JJ,l.uU,b.X$],styles:["[_nghost-%COMP%]{display:flex;height:80vh}.container[_ngcontent-%COMP%]{height:100%;min-width:50vw;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-grow:0;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column;margin-top:20px;overflow-y:auto;overflow-x:hidden}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid var(--color-black);padding:0 8px}.container[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;flex-grow:0;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}.different[_ngcontent-%COMP%]{background-color:red;font-weight:600;color:#fff}"]}),e})(),H=(()=>{class e{constructor(n){this._matDialog=n}openDialog(n=""){return new f.y(i=>{const a=new m.vA;a.data={oid:n},this._matDialog.open(mt,a).afterClosed().subscribe(()=>{i.next(),i.complete()},()=>i.error())})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(m.uw))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var dt=r(8879),yt=r(287),ht=r(4605),gt=r(4286),O=r(9549),M=r(4144),w=r(4385),ft=r(3238);function vt(e,s){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",t.lcZ(2,2,n.displayName)," ")}}function _t(e,s){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",t.lcZ(2,2,n.displayName)," ")}}function Tt(e,s){1&e&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"noResults")," "))}function At(e,s){1&e&&(t.TgZ(0,"div",17),t._UZ(1,"mat-spinner"),t.qZA())}function Nt(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",18),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",18),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"lowercase"),t.qZA(),t.TgZ(8,"div",18),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"div",18),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",18),t._uU(15),t.qZA(),t.TgZ(16,"div",18)(17,"app-button",19),t.NdJ("clickEvent",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.viewHistoryDetails(c.oid))}),t.qZA()(),t.BQk()}if(2&e){const n=s.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,n.objectType)," "),t.xp6(3),t.hij(" ",t.lcZ(6,9,t.lcZ(7,11,n.action))," "),t.xp6(4),t.hij(" ",t.xi3(10,13,n.time,"dd.MM.yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(13,16,n.time,"hh:ss")," "),t.xp6(3),t.hij(" ",n.user.displayName," "),t.xp6(2),t.Q6J("iconName","eye")("isTransparentMode",!0)}}const bt=[{path:"",component:(()=>{class e{constructor(n,i,a){this.webService=n,this.listEntities=i,this.historyViewPopupService=a,this.subs=new A.L,this.typesOfObject=x.g,this.actionTypesOfObject=x.So,this.isLoading=this.listEntities.isLoading,this.entities=this.listEntities.entities,this.totalEntitiesLength=this.listEntities.totalEntitiesLength,this.searchFilter=new yt.h}ngOnInit(){this.searchFilter.ordering="DESC",this.subs.sink=this.listEntities.setWebService(this.webService).setOrdering("DESC").requestFirstPage()}typeChange(n){n?(this.searchFilter.addBetweenAttribute({attribute:"object_type",attributeType:"STRING",attributeValue:n.value,type:"EQUAL"}),this.listEntities.setFilter(this.searchFilter)):(this.searchFilter.removeBetweenAttribute("object_type"),this.listEntities.setFilter(this.searchFilter))}actionTypeChange(n){n?this.searchFilter.addBetweenAttribute({attribute:"action",attributeValue:n.value,attributeType:"STRING",type:"EQUAL"}):this.searchFilter.removeBetweenAttribute("action"),this.listEntities.setFilter(this.searchFilter)}dateChanged(n,i){i.target?.value?this.searchFilter.addBetweenAttribute({attribute:"from"===n?"from_date":"to_date",attributeValue:i.target?.value,attributeType:"DATE",type:"from"===n?"GREATER_OR_EQUAL":"SMALLER_OR_EQUAL"}):"from"===n?this.searchFilter.removeBetweenAttribute("from_date"):"to"===n&&this.searchFilter.removeBetweenAttribute("to_date"),this.listEntities.setFilter(this.searchFilter)}inputSearchHandler(n){this.searchFilter.criteriaQuick=n,this.listEntities.setFilter(this.searchFilter)}viewHistoryDetails(n){this.subs.sink=this.historyViewPopupService.openDialog(n).subscribe(()=>{})}bottomReachedHandler(){this.listEntities.requestNextPage()}orderBy(n){this.searchFilter.ordering=n,this.listEntities.setFilter(this.searchFilter)}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z),t.Y36(N.y),t.Y36(H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-histories"]],features:[t._Bn([Z,dt.T,N.y,H])],decls:70,vars:81,consts:[[1,"container"],[1,"search-bar"],[3,"placeholder","changeEvent"],[1,"min-with"],["type","date","matInput","",3,"change"],[3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["value","ASC"],["value","DESC"],["scrollToBottom","",1,"histories",3,"bottomReached"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header","sticky"],["class","no-results",4,"ngIf"],["class","spinner",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"no-results"],[1,"spinner"],[1,"grid-item"],[3,"iconName","isTransparentMode","clickEvent"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-search-input",2),t.NdJ("changeEvent",function(c){return i.inputSearchHandler(c)}),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("change",function(c){return i.dateChanged("from",c)}),t.qZA()(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",4),t.NdJ("change",function(c){return i.dateChanged("to",c)}),t.qZA()(),t.TgZ(14,"mat-form-field")(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-select",5),t.NdJ("valueChange",function(c){return i.typeChange(c)}),t.TgZ(19,"mat-option"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.YNc(22,vt,3,4,"mat-option",6),t.qZA()(),t.TgZ(23,"mat-form-field")(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"mat-select",5),t.NdJ("valueChange",function(c){return i.actionTypeChange(c)}),t.TgZ(28,"mat-option"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.YNc(31,_t,3,4,"mat-option",6),t.qZA()(),t.TgZ(32,"mat-form-field",3)(33,"mat-label"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"mat-select",5),t.NdJ("valueChange",function(c){return i.orderBy(c)}),t.TgZ(37,"mat-option",7),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"mat-option",8),t._uU(41),t.ALo(42,"translate"),t.qZA()()()(),t.TgZ(43,"div",9),t.NdJ("bottomReached",function(){return i.bottomReachedHandler()}),t.TgZ(44,"div",10)(45,"div",11),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"div",11),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",11),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",11),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"div",11),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"div",11),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.YNc(63,Tt,3,3,"div",12),t.ALo(64,"async"),t.ALo(65,"async"),t.YNc(66,At,2,0,"div",13),t.ALo(67,"async"),t.YNc(68,Nt,18,19,"ng-container",14),t.ALo(69,"async"),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("placeholder",t.lcZ(3,41,"searchFor")),t.xp6(3),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(7,43,"fromDate")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(12,45,"toDate")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(17,47,"objectType")," "),t.xp6(4),t.Oqu(t.lcZ(21,49,"all")),t.xp6(2),t.Q6J("ngForOf",i.typesOfObject),t.xp6(2),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(26,51,"action")," "),t.xp6(4),t.Oqu(t.lcZ(30,53,"all")),t.xp6(2),t.Q6J("ngForOf",i.actionTypesOfObject),t.xp6(2),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(35,55,"sortBy")," "),t.xp6(4),t.Oqu(t.lcZ(39,57,"asc")),t.xp6(3),t.Oqu(t.lcZ(42,59,"desc")),t.xp6(5),t.hij(" ",t.lcZ(47,61,"objectType")," "),t.xp6(3),t.hij(" ",t.lcZ(50,63,"action")," "),t.xp6(3),t.hij(" ",t.lcZ(53,65,"date")," "),t.xp6(3),t.hij(" ",t.lcZ(56,67,"time")," "),t.xp6(3),t.hij(" ",t.lcZ(59,69,"user")," "),t.xp6(3),t.hij(" ",t.lcZ(62,71,"viewDetails")," "),t.xp6(2),t.Q6J("ngIf",0===t.lcZ(64,73,i.totalEntitiesLength)&&!t.lcZ(65,75,i.isLoading)),t.xp6(3),t.Q6J("ngIf",t.lcZ(67,77,i.isLoading)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(69,79,i.entities)))},dependencies:[l.sg,l.O5,U.r,ht.J,gt.C,E.Ou,O.KE,O.hX,M.Nt,w.gD,ft.ey,l.Ov,l.i8,l.uU,b.X$],styles:["[_nghost-%COMP%]{display:flex;height:100%}.container[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .histories[_ngcontent-%COMP%]{height:calc(100% - 100px);overflow-y:auto;overflow-x:hidden}.container[_ngcontent-%COMP%]   .histories[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto auto}.min-with[_ngcontent-%COMP%]{max-width:120px}"]}),e})(),canActivate:[T.Y],data:{permission:"HISTORIES_VIEW"}}];let Ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(bt),g.Bz]}),e})();var j=r(2024),Zt=r(2763),Et=r(6460),Ot=r(8287),R=r(4006),xt=r(7707),Mt=r(4603),wt=r(3231),Rt=r(7012);let St=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,b.aw,j.h,xt.R,R.UX,M.c,O.lN,w.LD,Mt.I,wt.Co,Rt.o,E.Cq]}),e})(),It=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,Ct,b.aw,j.h,Zt.i,Et.n,Ot.n,E.Cq,R.UX,R.u5,St,M.c,O.lN,w.LD]}),e})()},3749:(I,h,r)=>{r.d(h,{w:()=>f});var l=r(655),g=r(3429),T=r(8228),m=r(8324);class f extends T.g{constructor(){super(...arguments),this.name="",this.address="",this.maticalNumber="",this.pib="",this.contactPerson="",this.phoneNumberFix="",this.phoneNumberMobile="",this.email=""}}(0,l.gn)([(0,g.D)(()=>m.v)],f.prototype,"city",void 0)},7379:(I,h,r)=>{r.d(h,{e:()=>A});var l=r(4292),g=r(136),T=r(3749),m=r(4650),f=r(3164);let A=(()=>{class d extends l.h{constructor(v){super(v,T.w,g.Hz),this.baseWebService=v}}return d.\u0275fac=function(v){return new(v||d)(m.LFG(f.I))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac}),d})()}}]);