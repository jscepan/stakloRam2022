"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[416],{7095:(A,v,s)=>{s.d(v,{Y:()=>i});var o=s(4794),g=s(4650),f=s(8933),u=s(8794),d=s(8490);let i=(()=>{class c{constructor(e,x,h){this.authStoreService=e,this.globalService=x,this.translateService=h}canActivate(e){return!(!this.authStoreService.user?.roles||!this.authStoreService.isAllowed(e.data.permission))||(this.globalService.showBasicAlert(o.I.error,this.translateService.instant("accessDenied"),this.translateService.instant("youDontHaveAccess")),!1)}}return c.\u0275fac=function(e){return new(e||c)(g.LFG(f.g),g.LFG(u.U),g.LFG(d.sK))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},2416:(A,v,s)=>{s.r(v),s.d(v,{UsersModule:()=>oe});var o=s(6895),g=s(8729),f=s(7095),u=s(5412),d=s(6498),i=s(4006),c=s(4463),_=s(6254),e=s(4650),x=s(42),h=s(9549),E=s(4144),m=s(8490);function b(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"form",3)(1,"div",4)(2,"mat-form-field")(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",5),e.qZA()(),e.TgZ(7,"div",6)(8,"app-button",7),e.NdJ("clickEvent",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancel())}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"app-button",8),e.NdJ("clickEvent",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.handleSubmitButton())}),e.ALo(11,"translate"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.formGroup),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(5,9,"newPassword")," "),e.xp6(4),e.Q6J("text",e.lcZ(9,11,"cancel")),e.xp6(2),e.Q6J("text",e.lcZ(11,13,"save"))("disabled",!t.formGroup.dirty||t.formGroup.invalid)}}let Z=(()=>{class n{constructor(t,r,a){this.dialogRef=t,this.data=r,this.webService=a,this.subs=new c.L}ngOnInit(){this.userOID=this.data.oid,this.formGroup=new i.nJ({newPassword:new i.p4("",[i.kI.required])})}cancel(){this.dialogRef.close(!1)}handleSubmitButton(){this.subs.sink=this.webService.resetUserPassword(this.userOID,this.formGroup.value).subscribe(t=>{this.dialogRef.close(t)})}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.so),e.Y36(u.WI),e.Y36(_.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-password-reset"]],features:[e._Bn([_.u])],decls:6,vars:4,consts:[[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["matInput","","formControlName","newPassword"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,b,12,15,"form",2),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"passwordReset")," "),e.xp6(2),e.Q6J("ngIf",r.formGroup))},dependencies:[o.O5,x.r,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,h.KE,h.hX,E.Nt,m.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex-direction:column;margin-top:20px;display:flex}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}"]}),n})(),I=(()=>{class n{constructor(t){this._matDialog=t}openDialog(t=""){return new d.y(r=>{const a=new u.vA;a.data={oid:t},this._matDialog.open(Z,a).afterClosed().subscribe(p=>{r.next(p),r.complete()},()=>r.error())})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var M=s(4794),S=s(5327),P=s(5595),B=s(2134),F=s(136),y=s(8794),k=s(7070),w=s(4385),J=s(3238),L=s(266);function q(n,l){1&n&&(e.TgZ(0,"mat-form-field")(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",19),e.qZA()),2&n&&(e.xp6(1),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(3,5,"password")," "))}function G(n,l){if(1&n&&(e.TgZ(0,"mat-option",20),e.ALo(1,"async"),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){const t=l.$implicit,r=e.oxw(2);e.Q6J("value",t)("matTooltip",e.lcZ(1,3,r.getTooltipDescriptionForRole(t))||""),e.xp6(2),e.hij(" ",e.lcZ(3,5,t.name)," ")}}function j(n,l){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}function Y(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"form",3)(1,"div",4)(2,"mat-form-field")(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",5),e.qZA(),e.TgZ(7,"mat-form-field")(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.YNc(12,q,5,7,"mat-form-field",7),e.TgZ(13,"mat-form-field")(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",8),e.qZA(),e.TgZ(18,"mat-form-field")(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",9),e.qZA(),e.TgZ(23,"mat-form-field")(24,"mat-label"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"mat-select",10)(28,"mat-option",11),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"mat-option",11),e._uU(32),e.ALo(33,"translate"),e.qZA()()(),e.TgZ(34,"mat-form-field")(35,"mat-label"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"mat-select",12),e.NdJ("ngModelChange",function(a){e.CHM(t);const p=e.oxw();return e.KtG(p.selected=a)}),e.YNc(39,G,4,7,"mat-option",13),e.ALo(40,"async"),e.qZA()(),e.TgZ(41,"mat-form-field")(42,"mat-label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"mat-select",14),e.YNc(46,j,3,4,"mat-option",15),e.qZA()()(),e.TgZ(47,"div",16)(48,"app-button",17),e.NdJ("clickEvent",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancel())}),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"app-button",18),e.NdJ("clickEvent",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.handleSubmitButton())}),e.ALo(51,"translate"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.formGroup),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(5,48,"displayName")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(10,50,"username")," "),e.xp6(3),e.Q6J("ngIf",!t.isEdit),e.xp6(2),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(16,52,"fullName")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(21,54,"email")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(26,56,"enabled")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(30,58,"active")," "),e.xp6(2),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(33,60,"inactive")," "),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(37,62,"roles")," "),e.xp6(2),e.Q6J("ngModel",t.selected)("compareWith",t.compareFn),e.xp6(1),e.Q6J("ngForOf",e.lcZ(40,64,t.roles)),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(44,66,"language")," "),e.xp6(3),e.Q6J("ngForOf",t.languages),e.xp6(2),e.Q6J("text",e.lcZ(49,68,"cancel")),e.xp6(2),e.Q6J("text",e.lcZ(51,70,"save"))("disabled",t.isEdit&&!t.formGroup.dirty||t.formGroup.invalid)}}let K=(()=>{class n{constructor(t,r,a,p,C,O,U,ae){this.dialogRef=t,this.data=r,this.globalService=a,this.webService=p,this.translateService=C,this.roleWebService=O,this.languageService=U,this.listEntities=ae,this.subs=new c.L,this.isEdit=!1,this.roles=this.listEntities.entities,this.compareFn=B.nt,this.selected=[],this.languages=this.languageService.supportedLanguages,this.privilegesGroupByRoles=[]}ngOnInit(){this.isEdit=!!this.data.oid,this.userOID=this.data.oid,this.subs.sink=this.listEntities.setWebService(this.roleWebService).requestFirstPage(),this.isEdit?this.subs.sink=this.webService.getEntityByOid(this.userOID).subscribe(t=>{this.user=t,this.initializeEdit()}):this.initializeCreate()}initializeCreate(){this.formGroup=new i.nJ({displayName:new i.p4("",[i.kI.required,i.kI.minLength(3)]),username:new i.p4("",[i.kI.required,i.kI.minLength(3)]),password:new i.p4("",[i.kI.required,i.kI.minLength(3)]),fullName:new i.p4("",[i.kI.required,i.kI.minLength(3)]),email:new i.p4("",[]),enabled:new i.p4(!0,[i.kI.required]),roles:new i.p4("",[i.kI.required]),language:new i.p4(this.languages[0],[i.kI.required])})}initializeEdit(){this.webService.getEntityByOid(this.userOID).subscribe(t=>{t&&(this.selected=t.roles,this.formGroup=new i.nJ({displayName:new i.p4(t.displayName,[i.kI.required,i.kI.minLength(3)]),username:new i.p4(t.username,[i.kI.required,i.kI.minLength(3)]),fullName:new i.p4(t.fullName,[i.kI.required,i.kI.minLength(3)]),email:new i.p4(t.email,[]),enabled:new i.p4(t.enabled,[i.kI.required]),roles:new i.p4(t.roles,[i.kI.required]),language:new i.p4(t.language,[i.kI.required])}))})}cancel(){this.dialogRef.close(!1)}handleSubmitButton(){this.isEdit?this.webService.updateEntity(this.userOID,this.formGroup.value).subscribe(t=>{t&&(this.globalService.showBasicAlert(M.I.success,this.translateService.instant("successfully"),this.translateService.instant("userIsSuccessfullyUpdated")),this.dialogRef.close(t))}):this.webService.createEntity(this.formGroup.value).subscribe(t=>{t&&(this.globalService.showBasicAlert(M.I.success,this.translateService.instant("successfully"),this.translateService.instant("newUserIsSuccessfullyCreated")),this.dialogRef.close(t))})}getTooltipDescriptionForRole(t){const r=this.privilegesGroupByRoles.filter(a=>a.roleName===t.name)[0];return new d.y(r?a=>{a.next(this.getMessageForPrivileges(r.privileges)),a.complete()}:a=>{this.subs.sink=this.roles.subscribe(p=>{if(p.length){const C=p.filter(O=>O.name===t.name);C&&(this.privilegesGroupByRoles.push({roleName:C[0].name,privileges:C[0].privileges}),a.next(this.getMessageForPrivileges(C[0].privileges)),a.complete())}})})}getMessageForPrivileges(t){let r=this.translateService.instant("privileges")+": \n";return t.sort((a,p)=>a.localeCompare(p)).forEach(a=>{r+=this.translateService.instant(F.$e.filter(p=>p.value===a)[0]?.displayName)+", \n"}),r}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.so),e.Y36(u.WI),e.Y36(y.U),e.Y36(_.u),e.Y36(m.sK),e.Y36(S.T),e.Y36(k.T),e.Y36(P.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-create-edit"]],features:[e._Bn([_.u,S.T,P.y])],decls:6,vars:4,consts:[[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["matInput","","formControlName","displayName"],["matInput","","formControlName","username"],[4,"ngIf"],["matInput","","formControlName","fullName"],["matInput","","formControlName","email"],["formControlName","enabled"],[3,"value"],["formControlName","roles","multiple","",3,"ngModel","compareWith","ngModelChange"],[3,"value","matTooltip",4,"ngFor","ngForOf"],["formControlName","language"],[3,"value",4,"ngFor","ngForOf"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"],["matInput","","formControlName","password"],[3,"value","matTooltip"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,Y,52,72,"form",2),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,r.isEdit?"editUser":"createUser")," "),e.xp6(2),e.Q6J("ngIf",r.formGroup))},dependencies:[o.sg,o.O5,x.r,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,h.KE,h.hX,E.Nt,w.gD,J.ey,L.gM,o.Ov,m.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}  .mat-tooltip{white-space:pre-line!important}"]}),n})(),R=(()=>{class n{constructor(t){this._matDialog=t}openDialog(t=""){return new d.y(r=>{const a=new u.vA;a.data={oid:t},this._matDialog.open(K,a).afterClosed().subscribe(p=>{r.next(p),r.complete()},()=>r.error())})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Q=s(287),W=s(8933),$=s(4605),H=s(4286),D=s(1572);function X(n,l){1&n&&(e.TgZ(0,"div",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"noResults")," "))}function V(n,l){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"mat-spinner"),e.qZA())}function z(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13),e._uU(2),e.qZA(),e.TgZ(3,"div",13),e._uU(4),e.qZA(),e.TgZ(5,"div",13),e._uU(6),e.qZA(),e.TgZ(7,"div",13),e._uU(8),e.ALo(9,"translate"),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",13)(12,"app-button",14),e.NdJ("clickEvent",function(){const p=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.editUser(p.oid))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",13)(15,"app-button",14),e.NdJ("clickEvent",function(){const p=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.resetPassword(p.oid))}),e.ALo(16,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=l.$implicit,r=e.oxw();e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.fullName),e.xp6(2),e.Oqu(t.email),e.xp6(1),e.ekj("active",t.enabled)("inactive",!t.enabled),e.xp6(1),e.hij(" ",t.enabled?e.lcZ(9,12,"active"):e.lcZ(10,14,"inactive")," "),e.xp6(4),e.Q6J("text",e.lcZ(13,16,"edit"))("disabled",!r.hasPrivilege("USER_CREATE")||r.isThisUser(t)),e.xp6(3),e.Q6J("text",e.lcZ(16,18,"resetPassword"))("disabled",!r.hasPrivilege("USER_CREATE")||r.isThisUser(t))}}const ee=[{path:"",component:(()=>{class n{constructor(t,r,a,p,C,O,U){this.userCreateEditPopupService=t,this.passwordResetPopupService=r,this.webService=a,this.globalService=p,this.translateService=C,this.listEntities=O,this.authStoreService=U,this.subs=new c.L,this.isLoading=this.listEntities.isLoading,this.entities=this.listEntities.entities,this.totalEntitiesLength=this.listEntities.totalEntitiesLength,this.keyword=""}ngOnInit(){this.subs.sink=this.listEntities.setWebService(this.webService).requestFirstPage()}hasPrivilege(t){return this.authStoreService.isAllowed(t)}isThisUser(t){return t.oid===this.authStoreService.user?.oid}inputSearchHandler(t){const r=new Q.h;r.criteriaQuick=t,this.listEntities.setFilter(r)}createUser(){this.userCreateEditPopupService.openDialog().subscribe(t=>{t&&this.listEntities.requestFirstPage()})}editUser(t){this.userCreateEditPopupService.openDialog(t).subscribe(r=>{r&&this.listEntities.requestFirstPage()})}resetPassword(t){this.passwordResetPopupService.openDialog(t).subscribe(r=>{r&&this.globalService.showBasicAlert(M.I.success,this.translateService.instant("successfully"),this.translateService.instant("passwordSuccessfullyChanged"))})}bottomReachedHandler(){this.listEntities.requestNextPage()}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R),e.Y36(I),e.Y36(_.u),e.Y36(y.U),e.Y36(m.sK),e.Y36(P.y),e.Y36(W.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-users"]],features:[e._Bn([R,I,_.u,P.y])],decls:34,vars:38,consts:[[1,"wrapper"],[1,"container"],[1,"search-bar"],[3,"placeholder","keyword","changeEvent"],[1,"create-button",3,"text","iconName","disabled","clickEvent"],["scrollToBottom","",1,"users",3,"bottomReached"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header","sticky"],["class","no-results",4,"ngIf"],["class","spinner",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"no-results"],[1,"spinner"],[1,"grid-item"],[3,"text","disabled","clickEvent"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-search-input",3),e.NdJ("changeEvent",function(p){return r.inputSearchHandler(p)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"app-button",4),e.NdJ("clickEvent",function(){return r.createUser()}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("bottomReached",function(){return r.bottomReachedHandler()}),e.TgZ(8,"div",6)(9,"div",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",7),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",7),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",7),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",7),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",7),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.YNc(27,X,3,3,"div",8),e.ALo(28,"async"),e.ALo(29,"async"),e.YNc(30,V,2,0,"div",9),e.ALo(31,"async"),e.YNc(32,z,17,20,"ng-container",10),e.ALo(33,"async"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("placeholder",e.lcZ(4,14,"searchFor"))("keyword",r.keyword),e.xp6(2),e.Q6J("text",e.lcZ(6,16,"createUser"))("iconName","user-plus")("disabled",!r.hasPrivilege("USER_CREATE")),e.xp6(5),e.Oqu(e.lcZ(11,18,"username")),e.xp6(3),e.Oqu(e.lcZ(14,20,"fullName")),e.xp6(3),e.Oqu(e.lcZ(17,22,"email")),e.xp6(3),e.Oqu(e.lcZ(20,24,"enabled")),e.xp6(3),e.Oqu(e.lcZ(23,26,"edit")),e.xp6(3),e.hij(" ",e.lcZ(26,28,"resetPassword")," "),e.xp6(2),e.Q6J("ngIf",0===e.lcZ(28,30,r.totalEntitiesLength)&&!e.lcZ(29,32,r.isLoading)),e.xp6(3),e.Q6J("ngIf",e.lcZ(31,34,r.isLoading)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(33,36,r.entities)))},dependencies:[o.sg,o.O5,x.r,$.J,H.C,D.Ou,o.Ov,m.X$],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;height:100%}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:100%;min-width:500px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:20px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:calc(100% - 150px);overflow-y:auto}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto auto}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item.active[_ngcontent-%COMP%]{font-weight:600;color:var(--color-success)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item.inactive[_ngcontent-%COMP%]{font-weight:600;color:var(--color-danger)}"]}),n})(),canActivate:[f.Y],data:{permission:"USERS_VIEW"}}];let te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(ee),g.Bz]}),n})();var T=s(2024),ne=s(6460),N=s(4494);let ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[o.ez,m.aw,N.p,T.h,i.UX,E.c,h.lN,w.LD,L.AV]}),n})();var se=s(8287);let re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[o.ez,m.aw,N.p,T.h,i.UX,E.c,h.lN,w.LD]}),n})(),oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[o.ez,te,m.aw,T.h,u.Is,ne.n,ie,se.n,re,D.Cq]}),n})()},4605:(A,v,s)=>{s.d(v,{J:()=>x});var o=s(4650),g=s(4006),f=s(13),u=s(6895),d=s(9549),i=s(4144),c=s(6323);function _(h,E){1&h&&o._UZ(0,"i-feather",4)}function e(h,E){if(1&h){const m=o.EpF();o.TgZ(0,"i-feather",5),o.NdJ("click",function(){o.CHM(m);const Z=o.oxw();return o.KtG(Z.resetSearchInputValue())}),o.qZA()}}let x=(()=>{class h{constructor(){this.keyword="",this.placeholder="Search for...",this.debounceTime=500,this.minCharacters=1,this.changeEvent=new o.vpe,this.searchInput=new g.p4}ngOnInit(){this.inputChangeSubscription=this.searchInput.valueChanges.pipe((0,f.b)(this.debounceTime)).subscribe(()=>{(0===this.searchInput.value.length||this.searchInput.value.length>=this.minCharacters)&&this.changeEvent.emit(this.searchInput.value)})}ngOnChanges(m){m.keyword&&m.keyword.previousValue&&m.keyword.currentValue!==m.keyword.previousValue&&this.searchInput.setValue(this.keyword,{emitEvent:!1})}resetSearchInputValue(){this.searchInput.setValue("")}ngOnDestroy(){this.inputChangeSubscription.unsubscribe()}}return h.\u0275fac=function(m){return new(m||h)},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-search-input"]],inputs:{keyword:"keyword",placeholder:"placeholder",debounceTime:"debounceTime",minCharacters:"minCharacters"},outputs:{changeEvent:"changeEvent"},features:[o.TTD],decls:6,vars:5,consts:[[1,"me-search-input-form-field"],["type","text","matInput","",3,"formControl","autocomplete"],["matSuffix","","name","search","class","search-icon",4,"ngIf"],["name","x","class","close","matSuffix","",3,"click",4,"ngIf"],["matSuffix","","name","search",1,"search-icon"],["name","x","matSuffix","",1,"close",3,"click"]],template:function(m,b){1&m&&(o.TgZ(0,"mat-form-field",0)(1,"mat-label"),o._uU(2),o.qZA(),o._UZ(3,"input",1),o.YNc(4,_,1,0,"i-feather",2),o.YNc(5,e,1,0,"i-feather",3),o.qZA()),2&m&&(o.xp6(2),o.Oqu(b.placeholder),o.xp6(1),o.Q6J("formControl",b.searchInput)("autocomplete","off"),o.xp6(1),o.Q6J("ngIf",!b.searchInput.value),o.xp6(1),o.Q6J("ngIf",b.searchInput.value))},dependencies:[u.O5,d.KE,d.hX,d.R9,i.Nt,g.Fj,g.JJ,g.oH,c.u],styles:[".me-search-input-form-field .mat-form-field-wrapper{padding-bottom:0}\n"],encapsulation:2,changeDetection:0}),h})()},4286:(A,v,s)=>{s.d(v,{C:()=>u});var o=s(4650),g=s(3753),f=s(13);let u=(()=>{class d{constructor(c){this.component=c,this.bottomReached=new o.vpe,this.className="scrollbar",this.scrollDelay=200}ngOnInit(){(0,g.R)(this.component.nativeElement,"scroll").pipe((0,f.b)(this.scrollDelay)).subscribe(()=>{const c=this.component.nativeElement;c.offsetHeight+c.scrollTop+10>=c.scrollHeight&&this.bottomReached.emit()})}}return d.\u0275fac=function(c){return new(c||d)(o.Y36(o.SBq))},d.\u0275dir=o.lG2({type:d,selectors:[["","scrollToBottom",""]],hostVars:2,hostBindings:function(c,_){2&c&&o.Tol(_.className)},outputs:{bottomReached:"bottomReached"}}),d})()},287:(A,v,s)=>{s.d(v,{h:()=>o});class o{constructor(){this.criteriaQuick="",this.betweenAttributes=[],this.ordering="ASC"}getBetweenAttributes(){return this.betweenAttributes}addBetweenAttribute(f){let u=this.betweenAttributes.findIndex(d=>d.attribute===f.attribute);u<0?this.betweenAttributes.push(f):this.betweenAttributes[u]=f}clearAllBetweenAttributes(){this.betweenAttributes=[]}removeBetweenAttribute(f){let u=this.betweenAttributes.findIndex(d=>d.attribute===f);u>=0&&this.betweenAttributes.splice(u,1)}}},5595:(A,v,s)=>{s.d(v,{y:()=>u});var o=s(591),g=s(537),f=s(287);class u{constructor(){this.entities$=new o.X([]),this.totalEntitiesLength$=new o.X(void 0),this.bottomReached$=new o.X(!1),this.isLoading$=new o.X(!1),this.entities=this.entities$.asObservable(),this.totalEntitiesLength=this.totalEntitiesLength$.asObservable(),this.isLoading=this.isLoading$.asObservable(),this.searchModel=new f.h,this.NUMBER_OF_ITEMS_ON_PAGE=50}get numberOfItemsOnPage(){return this.NUMBER_OF_ITEMS_ON_PAGE}set numberOfItemsOnPage(i){this.NUMBER_OF_ITEMS_ON_PAGE=i,this.requestFirstPage()}resetNumberOfItemsOnPage(){this.NUMBER_OF_ITEMS_ON_PAGE=50,this.requestFirstPage()}setWebService(i){return this.webService=i,this}setOrdering(i){return this.searchModel.ordering=i,this}setFilter(i){this.searchModel=i,this.requestFirstPage()}requestFirstPage(){this.bottomReached$.next(!1),this.entities$.next([]),this.totalEntitiesLength$.next(0),this.requestNextPage()}requestNextPage(){this.bottomReached$.getValue()||(this.isLoading$.next(!0),this.webService?.searchEntities(this.searchModel,this.entities$.getValue().length||0,this.NUMBER_OF_ITEMS_ON_PAGE).pipe((0,g.x)(()=>{this.isLoading$.next(!1)})).subscribe(i=>{this.entities$.next(this.entities$.getValue().concat(i.entities));const c=this.entities$.getValue().length||0;this.bottomReached$.next(!(c<i.totalCount)),this.totalEntitiesLength$.next(i.totalCount)}))}}}}]);