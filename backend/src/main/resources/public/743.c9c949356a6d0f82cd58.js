"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[743],{3743:(P,m,e)=>{e.r(m),e.d(m,{LoginModule:()=>b});var f=e(8583),s=e(3679),g=e(7322),d=e(680),p=e(7423),c=e(4655),n=e(7716),h=e(8933),v=e(6240),C=e(8794),u=e(9805),M=e(1928);const S=["loginForm"],L=[{path:"",component:(()=>{class t{constructor(o,i,r,l,w,y){this.authStoreService=o,this.authWebService=i,this.router=r,this.globalService=l,this.translateService=w,this.localStorageService=y,this.username="",this.password=""}ngOnInit(){}performLogin(){const o={username:this.username.trim(),password:encodeURIComponent(this.password)};this.authWebService.login(o).subscribe(i=>{i&&(this.localStorageService.set("jwt",`Bearer ${i.jwt}`),this.authWebService.getCurrentUser().subscribe(r=>{this.authStoreService.user=r,this.router.navigate(["/"]),this.authStoreService.canceledURL&&(this.router.navigate([decodeURI(this.authStoreService.canceledURL)]),this.authStoreService.canceledURL=null)}))},i=>{this.globalService.showBasicAlertDefaultError(Object.assign(Object.assign({},i),{error:Object.assign(Object.assign({},i.error),{message:this.translateService.instant("loginFailed"),timestamp:new Date})}))})}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(h.g),n.Y36(v.r),n.Y36(c.F0),n.Y36(C.U),n.Y36(u.sK),n.Y36(M.n))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],viewQuery:function(o,i){if(1&o&&n.Gf(S,5),2&o){let r;n.iGM(r=n.CRH())&&(i.loginForm=r.first)}},decls:15,vars:12,consts:[[1,"login-section"],["id","login-form",3,"ngSubmit"],["hideRequiredMarker","true",1,"login-form-att"],["matInput","","id","username","name","username","required","","autocomplete","username",3,"ngModel","ngModelChange"],["hideRequiredMarker","true",1,"password-form-field","inline-icon"],["matInput","","id","password","name","password","required","","autocomplete","current-password",3,"ngModel","type","ngModelChange"],["mat-raised-button","","color","primary","type","submit",1,"login-button"]],template:function(o,i){1&o&&(n.TgZ(0,"div",0),n.TgZ(1,"form",1),n.NdJ("ngSubmit",function(){return i.performLogin()}),n.TgZ(2,"mat-form-field",2),n.TgZ(3,"mat-label"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"input",3),n.NdJ("ngModelChange",function(l){return i.username=l}),n.qZA(),n.qZA(),n.TgZ(7,"mat-form-field",4),n.TgZ(8,"mat-label"),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.TgZ(11,"input",5),n.NdJ("ngModelChange",function(l){return i.password=l}),n.qZA(),n.qZA(),n.TgZ(12,"button",6),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.qZA(),n.qZA()),2&o&&(n.xp6(4),n.Oqu(n.lcZ(5,6,"username")),n.xp6(2),n.Q6J("ngModel",i.username),n.xp6(3),n.Oqu(n.lcZ(10,8,"password")),n.xp6(2),n.Q6J("ngModel",i.password)("type","password"),n.xp6(2),n.hij(" ",n.lcZ(14,10,"login")," "))},directives:[s._Y,s.JL,s.F,g.KE,g.hX,d.Nt,s.Fj,s.Q7,s.JJ,s.On,p.lW],pipes:[u.X$],styles:[".login-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px}.login-section[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-bottom:14px}.login-section[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   .login-form-att[_ngcontent-%COMP%]{width:100%}.login-section[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   .password-form-field[_ngcontent-%COMP%]{width:100%}.login-section[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{width:100%}.login-section[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   .invalid-creds[_ngcontent-%COMP%]{margin-bottom:6px;font-size:12px}.login-section[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:auto;width:100%;justify-content:flex-end;align-items:center;margin-bottom:16px;color:var(--color-danger)}"],changeDetection:0}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[c.Bz.forChild(L)],c.Bz]}),t})();var Z=e(7942);let b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[f.ez,s.u5,d.c,g.lN,p.ot,O,Z.p,u.aw]]}),t})()}}]);