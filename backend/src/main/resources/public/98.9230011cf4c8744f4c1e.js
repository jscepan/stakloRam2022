"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[98],{7095:(C,v,t)=>{t.d(v,{Y:()=>c});var n=t(4794),a=t(7716),_=t(8933),d=t(8794),E=t(4655),D=t(4333);let c=(()=>{class u{constructor(p,s,m,i){this.authStoreService=p,this.globalService=s,this.router=m,this.translateService=i}canActivate(p){var s;return!(!(null===(s=this.authStoreService.user)||void 0===s?void 0:s.privileges)||!this.authStoreService.isAllowed(p.data.permission))||(this.globalService.showBasicAlert(n.I.error,this.translateService.instant("Nedozvoljeno"),this.translateService.instant("Nemate pristup")),!1)}}return u.\u0275fac=function(p){return new(p||u)(a.LFG(_.g),a.LFG(d.U),a.LFG(E.F0),a.LFG(D.sK))},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6098:(C,v,t)=>{t.r(v),t.d(v,{DebtorsReviewModule:()=>Z});var n=t(8583),a=t(4333),_=t(2024),d=t(8966),E=t(3497),D=t(6460),c=t(8109),u=t(8287),l=t(4655),p=t(7095),s=t(4463),m=t(2134),i=t(29),g=t(1558),e=t(7716),M=t(4605),T=t(42);function I(o,f){if(1&o){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",6),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"div",6),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"div",6),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"div",6),e.TgZ(13,"app-button",7),e.NdJ("clickEvent",function(){const A=e.CHM(r).$implicit;return e.oxw().viewDebtor(A)}),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.BQk()}if(2&o){const r=f.$implicit;e.xp6(2),e.Oqu(null==r.buyer?null:r.buyer.name),e.xp6(2),e.Oqu(e.Dn7(5,5,r.debtSum,"1.2-2","de")),e.xp6(3),e.Oqu(e.Dn7(8,9,r.positiveSum,"1.2-2","de")),e.xp6(3),e.Oqu(e.Dn7(11,13,r.negativeSum,"1.2-2","de")),e.xp6(3),e.Q6J("text",e.lcZ(14,17,"view"))}}const b=[{path:"",component:(()=>{class o{constructor(r,h){this.webService=r,this.router=h,this.subs=new s.L,this.allDebtors=[],this.entities=[],this.isLoading=!0}ngOnInit(){this.webService.getAllDebtors().subscribe(r=>{this.allDebtors=r,this.entities=r,this.isLoading=!0})}viewDebtor(r){var h;window.open("#/print/debtor/"+(null===(h=r.buyer)||void 0===h?void 0:h.oid))}inputSearchHandler(r){this.entities=[],this.allDebtors.forEach(h=>{var O;(0,m.B4)(r,[(null===(O=h.buyer)||void 0===O?void 0:O.name)||""])&&this.entities.push(h)})}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(g.X),e.Y36(l.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-debtors-review"]],features:[e._Bn([i.N,g.X])],decls:21,vars:19,consts:[[1,"container"],[1,"search-bar"],[3,"placeholder","changeEvent"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header"],[4,"ngFor","ngForOf"],[1,"grid-item"],[3,"text","clickEvent"]],template:function(r,h){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"app-search-input",2),e.NdJ("changeEvent",function(A){return h.inputSearchHandler(A)}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",4),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",4),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",4),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,I,15,19,"ng-container",5),e.qZA(),e.qZA()),2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,7,"searchFor")),e.xp6(4),e.Oqu(e.lcZ(7,9,"buyer")),e.xp6(3),e.Oqu(e.lcZ(10,11,"state")),e.xp6(3),e.Oqu(e.lcZ(13,13,"owed")),e.xp6(3),e.Oqu(e.lcZ(16,15,"debt")),e.xp6(3),e.Oqu(e.lcZ(19,17,"view")),e.xp6(2),e.Q6J("ngForOf",h.entities))},directives:[M.J,n.sg,T.r],pipes:[a.X$,n.JJ],styles:[".container[_ngcontent-%COMP%]{height:calc(100%)}.container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto;max-height:calc(100% - 100px);overflow-y:auto}"]}),o})(),canActivate:[p.Y],data:{permission:"DEBTORS_VIEW"}}];let P=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.Bz.forChild(b)],l.Bz]}),o})(),Z=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[n.ez,P,a.aw,_.h,d.Is,E.N,D.n,c.V,u.n]]}),o})()},4605:(C,v,t)=>{t.d(v,{J:()=>p});var n=t(7716),a=t(3679),_=t(4395),d=t(7322),E=t(3722),D=t(8583),c=t(5411);function u(s,m){1&s&&n._UZ(0,"i-feather",4)}function l(s,m){if(1&s){const i=n.EpF();n.TgZ(0,"i-feather",5),n.NdJ("click",function(){return n.CHM(i),n.oxw().resetSearchInputValue()}),n.qZA()}}let p=(()=>{class s{constructor(){this.keyword="",this.placeholder="Search for...",this.debounceTime=500,this.minCharacters=1,this.changeEvent=new n.vpe,this.searchInput=new a.NI}ngOnInit(){this.inputChangeSubscription=this.searchInput.valueChanges.pipe((0,_.b)(this.debounceTime)).subscribe(()=>{(0===this.searchInput.value.length||this.searchInput.value.length>=this.minCharacters)&&this.changeEvent.emit(this.searchInput.value)})}ngOnChanges(i){i.keyword&&i.keyword.previousValue&&i.keyword.currentValue!==i.keyword.previousValue&&this.searchInput.setValue(this.keyword,{emitEvent:!1})}resetSearchInputValue(){this.searchInput.setValue("")}ngOnDestroy(){this.inputChangeSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-search-input"]],inputs:{keyword:"keyword",placeholder:"placeholder",debounceTime:"debounceTime",minCharacters:"minCharacters"},outputs:{changeEvent:"changeEvent"},features:[n.TTD],decls:6,vars:5,consts:[[1,"me-search-input-form-field"],["type","text","matInput","",3,"formControl","autocomplete"],["matSuffix","","name","search","class","search-icon",4,"ngIf"],["name","x","class","close","matSuffix","",3,"click",4,"ngIf"],["matSuffix","","name","search",1,"search-icon"],["name","x","matSuffix","",1,"close",3,"click"]],template:function(i,g){1&i&&(n.TgZ(0,"mat-form-field",0),n.TgZ(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",1),n.YNc(4,u,1,0,"i-feather",2),n.YNc(5,l,1,0,"i-feather",3),n.qZA()),2&i&&(n.xp6(2),n.Oqu(g.placeholder),n.xp6(1),n.Q6J("formControl",g.searchInput)("autocomplete","off"),n.xp6(1),n.Q6J("ngIf",!g.searchInput.value),n.xp6(1),n.Q6J("ngIf",g.searchInput.value))},directives:[d.KE,d.hX,E.Nt,a.Fj,a.JJ,a.oH,D.O5,c.uy,d.R9],styles:[".me-search-input-form-field .mat-form-field-wrapper{padding-bottom:0}\n"],encapsulation:2,changeDetection:0}),s})()},9360:(C,v,t)=>{t.d(v,{K:()=>a});var n=t(8228);class a extends n.g{constructor(){super(...arguments),this.description=""}}},29:(C,v,t)=>{t.d(v,{N:()=>D});var n=t(4292),a=t(136),_=t(9360),d=t(7716),E=t(7515);let D=(()=>{class c extends n.h{constructor(l){super(l,_.K,a.HT),this.baseWebService=l}}return c.\u0275fac=function(l){return new(l||c)(d.LFG(E.I))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac}),c})()}}]);