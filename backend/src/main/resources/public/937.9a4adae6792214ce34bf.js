"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[937],{7095:(x,C,i)=>{i.d(C,{Y:()=>c});var s=i(4794),m=i(7716),v=i(8933),h=i(8794),a=i(4655),n=i(4333);let c=(()=>{class g{constructor(f,u,E,d){this.authStoreService=f,this.globalService=u,this.router=E,this.translateService=d}canActivate(f){var u;return!(!(null===(u=this.authStoreService.user)||void 0===u?void 0:u.privileges)||!this.authStoreService.isAllowed(f.data.permission))||(this.globalService.showBasicAlert(s.I.error,this.translateService.instant("Nedozvoljeno"),this.translateService.instant("Nemate pristup")),!1)}}return g.\u0275fac=function(f){return new(f||g)(m.LFG(v.g),m.LFG(h.U),m.LFG(a.F0),m.LFG(n.sK))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},2937:(x,C,i)=>{i.r(C),i.d(C,{UsersModule:()=>re});var s=i(8583),m=i(4655),v=i(7095),h=i(8966),a=i(7574),n=i(3679),c=i(4463),g=i(6254),e=i(7716),f=i(7322),u=i(3722),E=i(42),d=i(4333);function Z(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"form",3),e.TgZ(1,"div",4),e.TgZ(2,"mat-form-field"),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",5),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"app-button",7),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().cancel()}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"app-button",8),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().handleSubmitButton()}),e.ALo(11,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.formGroup),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(5,9,"newPassword")," "),e.xp6(4),e.Q6J("text",e.lcZ(9,11,"cancel")),e.xp6(2),e.Q6J("text",e.lcZ(11,13,"save"))("disabled",!t.formGroup.dirty||t.formGroup.invalid)}}let T=(()=>{class r{constructor(t,o,p){this.dialogRef=t,this.data=o,this.webService=p,this.subs=new c.L}ngOnInit(){this.userOID=this.data.oid,this.formGroup=new n.cw({newPassword:new n.NI("",[n.kI.required])})}cancel(){this.dialogRef.close(!1)}handleSubmitButton(){this.subs.sink=this.webService.resetUserPassword(this.userOID,this.formGroup.value).subscribe(t=>{this.dialogRef.close(t)})}ngOnDestroy(){this.subs.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.so),e.Y36(h.WI),e.Y36(g.u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-password-reset"]],features:[e._Bn([g.u])],decls:6,vars:4,consts:[[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["matInput","","formControlName","newPassword"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.YNc(5,Z,12,15,"form",2),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"passwordReset")," "),e.xp6(2),e.Q6J("ngIf",o.formGroup))},directives:[s.O5,n._Y,n.JL,n.sg,f.KE,f.hX,u.Nt,n.Fj,n.JJ,n.u,E.r],pipes:[d.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex-direction:column;margin-top:20px;display:flex}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}"]}),r})(),O=(()=>{class r{constructor(t){this._matDialog=t}openDialog(t=""){return new a.y(o=>{const p=new h.vA;p.data={oid:t},this._matDialog.open(T,p).afterClosed().subscribe(_=>{o.next(_),o.complete()},()=>o.error())})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.uw))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var A=i(4794),b=i(7865),I=i(5595),N=i(2134),U=i(8794),R=i(7070),M=i(4107),q=i(1862);function B(r,l){1&r&&(e.TgZ(0,"mat-form-field"),e.TgZ(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",18),e.qZA()),2&r&&(e.xp6(1),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(3,5,"password")," "))}function k(r,l){if(1&r&&(e.TgZ(0,"mat-option",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function J(r,l){if(1&r&&(e.TgZ(0,"mat-option",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}function F(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"form",3),e.TgZ(1,"div",4),e.TgZ(2,"mat-form-field"),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",5),e.qZA(),e.TgZ(7,"mat-form-field"),e.TgZ(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.YNc(12,B,5,7,"mat-form-field",7),e.TgZ(13,"mat-form-field"),e.TgZ(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",8),e.qZA(),e.TgZ(18,"mat-form-field"),e.TgZ(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",9),e.qZA(),e.TgZ(23,"mat-form-field"),e.TgZ(24,"mat-label"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"mat-select",10),e.TgZ(28,"mat-option",11),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"mat-option",11),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"mat-form-field"),e.TgZ(35,"mat-label"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"mat-select",12),e.NdJ("ngModelChange",function(p){return e.CHM(t),e.oxw().selected=p}),e.YNc(39,k,3,4,"mat-option",13),e.ALo(40,"async"),e.qZA(),e.qZA(),e.TgZ(41,"mat-form-field"),e.TgZ(42,"mat-label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"mat-select",14),e.YNc(46,J,3,4,"mat-option",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",15),e.TgZ(48,"app-button",16),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().cancel()}),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"app-button",17),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().handleSubmitButton()}),e.ALo(51,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("formGroup",t.formGroup),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(5,48,"displayName")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(10,50,"username")," "),e.xp6(3),e.Q6J("ngIf",!t.isEdit),e.xp6(2),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(16,52,"fullName")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(21,54,"email")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(26,56,"enabled")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(30,58,"active")," "),e.xp6(2),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(33,60,"inactive")," "),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(37,62,"roles")," "),e.xp6(2),e.Q6J("ngModel",t.selected)("compareWith",t.compareFn),e.xp6(1),e.Q6J("ngForOf",e.lcZ(40,64,t.roles)),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(44,66,"language")," "),e.xp6(3),e.Q6J("ngForOf",t.languages),e.xp6(2),e.Q6J("text",e.lcZ(49,68,"cancel")),e.xp6(2),e.Q6J("text",e.lcZ(51,70,"save"))("disabled",t.isEdit&&!t.formGroup.dirty||t.formGroup.invalid)}}let j=(()=>{class r{constructor(t,o,p,_,P,w,y,ie){this.dialogRef=t,this.data=o,this.globalService=p,this.webService=_,this.translateService=P,this.roleWebService=w,this.languageService=y,this.listEntities=ie,this.subs=new c.L,this.isEdit=!1,this.roles=this.listEntities.entities,this.compareFn=N.nt,this.selected=[],this.languages=this.languageService.supportedLanguages}ngOnInit(){this.isEdit=!!this.data.oid,this.userOID=this.data.oid,this.subs.sink=this.listEntities.setWebService(this.roleWebService).requestFirstPage(),this.isEdit?this.subs.sink=this.webService.getEntityByOid(this.userOID).subscribe(t=>{this.user=t,this.initializeEdit()}):this.initializeCreate()}initializeCreate(){this.formGroup=new n.cw({displayName:new n.NI("",[n.kI.required,n.kI.minLength(3)]),username:new n.NI("",[n.kI.required,n.kI.minLength(3)]),password:new n.NI("",[n.kI.required,n.kI.minLength(3)]),fullName:new n.NI("",[n.kI.required,n.kI.minLength(3)]),email:new n.NI("",[]),enabled:new n.NI(!0,[n.kI.required]),roles:new n.NI("",[n.kI.required]),language:new n.NI(this.languages[0],[n.kI.required])})}initializeEdit(){this.webService.getEntityByOid(this.userOID).subscribe(t=>{t&&(this.selected=t.roles,this.formGroup=new n.cw({displayName:new n.NI(t.displayName,[n.kI.required,n.kI.minLength(3)]),username:new n.NI(t.username,[n.kI.required,n.kI.minLength(3)]),fullName:new n.NI(t.fullName,[n.kI.required,n.kI.minLength(3)]),email:new n.NI(t.email,[]),enabled:new n.NI(t.enabled,[n.kI.required]),roles:new n.NI(t.roles,[n.kI.required]),language:new n.NI(t.language,[n.kI.required])}))})}cancel(){this.dialogRef.close(!1)}handleSubmitButton(){this.isEdit?this.webService.updateEntity(this.userOID,this.formGroup.value).subscribe(t=>{t&&(this.globalService.showBasicAlert(A.I.success,this.translateService.instant("successfully"),this.translateService.instant("userIsSuccessfullyUpdated")),this.dialogRef.close(t))}):this.webService.createEntity(this.formGroup.value).subscribe(t=>{t&&(this.globalService.showBasicAlert(A.I.success,this.translateService.instant("successfully"),this.translateService.instant("newUserIsSuccessfullyCreated")),this.dialogRef.close(t))})}ngOnDestroy(){this.subs.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.so),e.Y36(h.WI),e.Y36(U.U),e.Y36(g.u),e.Y36(d.sK),e.Y36(b.T),e.Y36(R.T),e.Y36(I.y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-create-edit"]],features:[e._Bn([g.u,b.T,I.y])],decls:6,vars:4,consts:[[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["matInput","","formControlName","displayName"],["matInput","","formControlName","username"],[4,"ngIf"],["matInput","","formControlName","fullName"],["matInput","","formControlName","email"],["formControlName","enabled"],[3,"value"],["formControlName","roles","multiple","",3,"ngModel","compareWith","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","language"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"],["matInput","","formControlName","password"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.YNc(5,F,52,72,"form",2),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,o.isEdit?"editUser":"createUser")," "),e.xp6(2),e.Q6J("ngIf",o.formGroup))},directives:[s.O5,n._Y,n.JL,n.sg,f.KE,f.hX,u.Nt,n.Fj,n.JJ,n.u,M.gD,q.ey,s.sg,E.r],pipes:[d.X$,s.Ov],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}"]}),r})(),L=(()=>{class r{constructor(t){this._matDialog=t}openDialog(t=""){return new a.y(o=>{const p=new h.vA;p.data={oid:t},this._matDialog.open(j,p).afterClosed().subscribe(_=>{o.next(_),o.complete()},()=>o.error())})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.uw))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var Y=i(287),G=i(8933),Q=i(4605),W=i(4286),$=i(4237);function K(r,l){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",9),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA(),e.TgZ(7,"div",9),e._uU(8),e.ALo(9,"translate"),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"app-button",10),e.NdJ("clickEvent",function(){const _=e.CHM(t).$implicit;return e.oxw().editUser(_.oid)}),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e.TgZ(15,"app-button",10),e.NdJ("clickEvent",function(){const _=e.CHM(t).$implicit;return e.oxw().resetPassword(_.oid)}),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.BQk()}if(2&r){const t=l.$implicit,o=e.oxw();e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.fullName),e.xp6(2),e.Oqu(t.email),e.xp6(1),e.ekj("active",t.enabled)("inactive",!t.enabled),e.xp6(1),e.hij(" ",t.enabled?e.lcZ(9,12,"active"):e.lcZ(10,14,"inactive")," "),e.xp6(4),e.Q6J("text",e.lcZ(13,16,"edit"))("disabled",!o.hasPrivilege("USER_CREATE")||o.isThisUser(t)),e.xp6(3),e.Q6J("text",e.lcZ(16,18,"resetPassword"))("disabled",!o.hasPrivilege("USER_CREATE")||o.isThisUser(t))}}const H=[{path:"",component:(()=>{class r{constructor(t,o,p,_,P,w,y){this.userCreateEditPopupService=t,this.passwordResetPopupService=o,this.webService=p,this.globalService=_,this.translateService=P,this.listEntities=w,this.authStoreService=y,this.subs=new c.L,this.isLoading=this.listEntities.isLoading,this.entities=this.listEntities.entities,this.keyword=""}ngOnInit(){this.subs.sink=this.listEntities.setWebService(this.webService).requestFirstPage()}hasPrivilege(t){return this.authStoreService.isAllowed(t)}isThisUser(t){var o;return t.oid===(null===(o=this.authStoreService.user)||void 0===o?void 0:o.oid)}inputSearchHandler(t){const o=new Y.h;o.criteriaQuick=t,this.listEntities.setFilter(o)}createUser(){this.userCreateEditPopupService.openDialog().subscribe(t=>{t&&this.listEntities.requestFirstPage()})}editUser(t){this.userCreateEditPopupService.openDialog(t).subscribe(o=>{o&&this.listEntities.requestFirstPage()})}resetPassword(t){this.passwordResetPopupService.openDialog(t).subscribe(o=>{o&&this.globalService.showBasicAlert(A.I.success,this.translateService.instant("successfully"),this.translateService.instant("passwordSuccessfullyChanged"))})}bottomReachedHandler(){this.listEntities.requestNextPage()}ngOnDestroy(){this.subs.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(L),e.Y36(O),e.Y36(g.u),e.Y36(U.U),e.Y36(d.sK),e.Y36(I.y),e.Y36(G.g))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users"]],features:[e._Bn([L,O,g.u,I.y])],decls:30,vars:33,consts:[[1,"wrapper"],[1,"container"],[1,"search-bar"],[3,"placeholder","keyword","changeEvent"],[1,"create-button",3,"text","iconName","disabled","clickEvent"],["scrollToBottom","",1,"users",3,"componentLoading","bottomReached"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header","sticky"],[4,"ngFor","ngForOf"],[1,"grid-item"],[3,"text","disabled","clickEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"app-search-input",3),e.NdJ("changeEvent",function(_){return o.inputSearchHandler(_)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"app-button",4),e.NdJ("clickEvent",function(){return o.createUser()}),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.NdJ("bottomReached",function(){return o.bottomReachedHandler()}),e.ALo(8,"async"),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",7),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",7),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div",7),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",7),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,K,17,20,"ng-container",8),e.ALo(29,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("placeholder",e.lcZ(4,13,"searchFor"))("keyword",o.keyword),e.xp6(2),e.Q6J("text",e.lcZ(6,15,"createUser"))("iconName","user-plus")("disabled",!o.hasPrivilege("USER_CREATE")),e.xp6(2),e.Q6J("componentLoading",e.lcZ(8,17,o.isLoading)||!1),e.xp6(4),e.Oqu(e.lcZ(12,19,"username")),e.xp6(3),e.Oqu(e.lcZ(15,21,"fullName")),e.xp6(3),e.Oqu(e.lcZ(18,23,"email")),e.xp6(3),e.Oqu(e.lcZ(21,25,"enabled")),e.xp6(3),e.Oqu(e.lcZ(24,27,"edit")),e.xp6(3),e.hij(" ",e.lcZ(27,29,"resetPassword")," "),e.xp6(2),e.Q6J("ngForOf",e.lcZ(29,31,o.entities)))},directives:[Q.J,E.r,W.C,$.T,s.sg],pipes:[d.X$,s.Ov],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100%)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:calc(100%)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:20px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:calc(100% - 150px);overflow-y:auto}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto auto}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item.active[_ngcontent-%COMP%]{font-weight:600;color:var(--color-success)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item.inactive[_ngcontent-%COMP%]{font-weight:600;color:var(--color-danger)}"]}),r})(),canActivate:[v.Y],data:{permission:"USERS_VIEW"}}];let X=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[m.Bz.forChild(H)],m.Bz]}),r})();var S=i(2024),V=i(6460),D=i(7942);let z=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[s.ez,d.aw,D.p,S.h,n.UX,u.c,f.lN,M.LD]]}),r})();var ee=i(8287),te=i(8109);let ne=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[s.ez,d.aw,D.p,S.h,n.UX,u.c,f.lN,M.LD]]}),r})(),re=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[s.ez,X,d.aw,S.h,h.Is,V.n,z,te.V,ee.n,ne]]}),r})()},4605:(x,C,i)=>{i.d(C,{J:()=>f});var s=i(7716),m=i(3679),v=i(4395),h=i(7322),a=i(3722),n=i(8583),c=i(5411);function g(u,E){1&u&&s._UZ(0,"i-feather",4)}function e(u,E){if(1&u){const d=s.EpF();s.TgZ(0,"i-feather",5),s.NdJ("click",function(){return s.CHM(d),s.oxw().resetSearchInputValue()}),s.qZA()}}let f=(()=>{class u{constructor(){this.keyword="",this.placeholder="Search for...",this.debounceTime=500,this.minCharacters=1,this.changeEvent=new s.vpe,this.searchInput=new m.NI}ngOnInit(){this.inputChangeSubscription=this.searchInput.valueChanges.pipe((0,v.b)(this.debounceTime)).subscribe(()=>{(0===this.searchInput.value.length||this.searchInput.value.length>=this.minCharacters)&&this.changeEvent.emit(this.searchInput.value)})}ngOnChanges(d){d.keyword&&d.keyword.previousValue&&d.keyword.currentValue!==d.keyword.previousValue&&this.searchInput.setValue(this.keyword,{emitEvent:!1})}resetSearchInputValue(){this.searchInput.setValue("")}ngOnDestroy(){this.inputChangeSubscription.unsubscribe()}}return u.\u0275fac=function(d){return new(d||u)},u.\u0275cmp=s.Xpm({type:u,selectors:[["app-search-input"]],inputs:{keyword:"keyword",placeholder:"placeholder",debounceTime:"debounceTime",minCharacters:"minCharacters"},outputs:{changeEvent:"changeEvent"},features:[s.TTD],decls:6,vars:5,consts:[[1,"me-search-input-form-field"],["type","text","matInput","",3,"formControl","autocomplete"],["matSuffix","","name","search","class","search-icon",4,"ngIf"],["name","x","class","close","matSuffix","",3,"click",4,"ngIf"],["matSuffix","","name","search",1,"search-icon"],["name","x","matSuffix","",1,"close",3,"click"]],template:function(d,Z){1&d&&(s.TgZ(0,"mat-form-field",0),s.TgZ(1,"mat-label"),s._uU(2),s.qZA(),s._UZ(3,"input",1),s.YNc(4,g,1,0,"i-feather",2),s.YNc(5,e,1,0,"i-feather",3),s.qZA()),2&d&&(s.xp6(2),s.Oqu(Z.placeholder),s.xp6(1),s.Q6J("formControl",Z.searchInput)("autocomplete","off"),s.xp6(1),s.Q6J("ngIf",!Z.searchInput.value),s.xp6(1),s.Q6J("ngIf",Z.searchInput.value))},directives:[h.KE,h.hX,a.Nt,m.Fj,m.JJ,m.oH,n.O5,c.uy,h.R9],styles:[".me-search-input-form-field .mat-form-field-wrapper{padding-bottom:0}\n"],encapsulation:2,changeDetection:0}),u})()},4237:(x,C,i)=>{i.d(C,{T:()=>m});var s=i(7716);let m=(()=>{class v{constructor(a,n){this.targetEl=a,this.renderer=n,this.hostPosition="relative",this.componentLoading=!1}ngOnInit(){this.uid="loading-container-"+this.generateRandomString();const a=this.renderer.createElement("div");this.renderer.setStyle(a,"display",this.componentLoading?"flex":"none"),this.renderer.setStyle(a,"justify-content","center"),this.renderer.setStyle(a,"align-items","center"),this.renderer.addClass(a,this.uid),this.renderer.setStyle(a,"position","absolute"),this.renderer.setStyle(a,"top","0"),this.renderer.setStyle(a,"background","#ffffff80"),this.renderer.setStyle(a,"width","100%"),this.renderer.setStyle(a,"height","100%"),this.renderer.setStyle(a,"z-index","9");const n=this.renderer.createElement("div");this.renderer.addClass(n,"me-component-loader");const c=this.renderer.createElement("div"),g=this.renderer.createElement("div"),e=this.renderer.createElement("div"),f=this.renderer.createElement("div"),u=this.renderer.createElement("div"),E=this.renderer.createElement("div"),d=this.renderer.createElement("div"),Z=this.renderer.createElement("div"),T=this.renderer.createElement("div"),O=this.renderer.createElement("div"),A=this.renderer.createElement("div"),b=this.renderer.createElement("div");this.renderer.appendChild(n,c),this.renderer.appendChild(n,g),this.renderer.appendChild(n,e),this.renderer.appendChild(n,f),this.renderer.appendChild(n,u),this.renderer.appendChild(n,E),this.renderer.appendChild(n,d),this.renderer.appendChild(n,Z),this.renderer.appendChild(n,T),this.renderer.appendChild(n,O),this.renderer.appendChild(n,A),this.renderer.appendChild(n,b),this.renderer.appendChild(a,n),this.renderer.appendChild(this.targetEl.nativeElement,a)}ngOnChanges(a){if(a.componentLoading){const c=this.targetEl.nativeElement.querySelector("."+this.uid);c&&this.renderer.setStyle(c,"display",this.componentLoading?"flex":"none")}}generateRandomString(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}return v.\u0275fac=function(a){return new(a||v)(s.Y36(s.SBq),s.Y36(s.Qsj))},v.\u0275dir=s.lG2({type:v,selectors:[["","componentLoading",""]],hostVars:2,hostBindings:function(a,n){2&a&&s.Udp("position",n.hostPosition)},inputs:{componentLoading:"componentLoading"},features:[s.TTD]}),v})()},4286:(x,C,i)=>{i.d(C,{C:()=>h});var s=i(7716),m=i(2759),v=i(4395);let h=(()=>{class a{constructor(c){this.component=c,this.bottomReached=new s.vpe,this.className="scrollbar",this.scrollDelay=200}ngOnInit(){(0,m.R)(this.component.nativeElement,"scroll").pipe((0,v.b)(this.scrollDelay)).subscribe(()=>{const c=this.component.nativeElement;c.offsetHeight+c.scrollTop+10>=c.scrollHeight&&this.bottomReached.emit()})}}return a.\u0275fac=function(c){return new(c||a)(s.Y36(s.SBq))},a.\u0275dir=s.lG2({type:a,selectors:[["","scrollToBottom",""]],hostVars:2,hostBindings:function(c,g){2&c&&s.Tol(g.className)},outputs:{bottomReached:"bottomReached"}}),a})()},287:(x,C,i)=>{i.d(C,{h:()=>s});class s{constructor(){this.criteriaQuick="",this.objectsOIDS=[],this.attributes=[],this.ordering="ASC"}}},5595:(x,C,i)=>{i.d(C,{y:()=>v});var s=i(6215),m=i(287);class v{constructor(){this.entities$=new s.X([]),this.totalEntitiesLength$=new s.X(void 0),this.bottomReached$=new s.X(!1),this.isLoading$=new s.X(!1),this.entities=this.entities$.asObservable(),this.totalEntitiesLength=this.totalEntitiesLength$.asObservable(),this.isLoading=this.isLoading$.asObservable(),this.searchModel=new m.h,this.NUMBER_OF_ITEMS_ON_PAGE=50}get numberOfItemsOnPage(){return this.NUMBER_OF_ITEMS_ON_PAGE}setWebService(a){return this.webService=a,this}setOrdering(a){return this.searchModel.ordering=a,this}setFilter(a){this.searchModel=a,this.requestFirstPage()}requestFirstPage(){this.bottomReached$.next(!1),this.entities$.next([]),this.totalEntitiesLength$.next(0),this.requestNextPage()}requestNextPage(){var a;this.bottomReached$.getValue()||(this.isLoading$.next(!0),null===(a=this.webService)||void 0===a||a.searchEntities(this.searchModel,this.entities$.getValue().length||0,this.NUMBER_OF_ITEMS_ON_PAGE).subscribe(n=>{this.entities$.next(this.entities$.getValue().concat(n.entities));const c=this.entities$.getValue().length||0;this.bottomReached$.next(!(c<n.totalCount)),this.totalEntitiesLength$.next(n.totalCount),this.isLoading$.next(!1)}))}}}}]);