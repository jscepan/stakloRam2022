"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[948],{3948:(D,u,n)=>{n.r(u),n.d(u,{IncomesModule:()=>Y});var r=n(8583),l=n(4655),Z=n(7095),h=n(4936),A=n(4794),T=n(3851),v=n(5153),C=n(287),p=n(5595),f=n(4463),g=n(7650),t=n(7716),b=n(8794),m=n(4333),x=n(8933),I=n(4605),S=n(42),y=n(4286),E=n(4237);function M(i,c){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",9),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"div",10),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"div",9),t._uU(10),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"app-button",11),t.NdJ("clickEvent",function(){const a=t.CHM(e).$implicit;return t.oxw().editIncome(a.oid)}),t.qZA(),t.qZA(),t.TgZ(15,"div",9),t.TgZ(16,"app-button",11),t.NdJ("clickEvent",function(){const a=t.CHM(e).$implicit;return t.oxw().deleteIncome(a)}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=c.$implicit;t.xp6(2),t.hij(" ",e.buyer.name," "),t.xp6(2),t.hij(" ",t.xi3(5,9,e.date,"dd.MM.yyyy")," "),t.xp6(3),t.hij(" ",t.Dn7(8,12,e.amount,"1.2-2","de")," "),t.xp6(3),t.hij(" ",e.bankStatementNumber," "),t.xp6(2),t.hij(" ",e.comment," "),t.xp6(2),t.Q6J("iconName","edit")("isTransparentMode",!0),t.xp6(2),t.Q6J("iconName","trash-2")("isTransparentMode",!0)}}const L=[{path:"",component:(()=>{class i{constructor(e,o,s,a,d,B,Q,R){this.globalService=e,this.translateService=o,this.webService=s,this.sweetAlertService=a,this.listEntities=d,this.router=B,this.incomeCreateEditPopupService=Q,this.authStoreService=R,this.subs=new f.L,this.isLoading=this.listEntities.isLoading,this.entities=this.listEntities.entities,this.keyword=""}ngOnInit(){this.subs.sink=this.listEntities.setWebService(this.webService).requestFirstPage()}hasPrivilege(e){return this.authStoreService.isAllowed(e)}inputSearchHandler(e){const o=new C.h;o.criteriaQuick=e,this.listEntities.setFilter(o)}outcomes(){this.router.navigate(["outcomes"])}createIncome(){this.incomeCreateEditPopupService.openDialog().subscribe(e=>{e&&this.listEntities.requestFirstPage()})}editIncome(e){this.incomeCreateEditPopupService.openDialog(e).subscribe(o=>{o&&this.listEntities.requestFirstPage()})}deleteIncome(e){this.subs.sink.$deleteIncome=this.sweetAlertService.getDataBackFromSweetAlert().subscribe(s=>{s&&s.confirmed&&(this.subs.sink=this.webService.deleteEntity([e]).subscribe(()=>{this.globalService.showBasicAlert(A.I.success,this.translateService.instant("incomeDeleted"),this.translateService.instant("incomeHaveBeenSuccessfullyDeleted")),this.listEntities.requestFirstPage()}))});const o={mode:"warning",icon:"alert-triangle",type:{name:T.N.submit,buttons:{submit:this.translateService.instant("delete"),cancel:this.translateService.instant("cancel")}},title:this.translateService.instant("deleteIncome"),message:this.translateService.instant("areYouSureYouWantToDeleteTheIncome")};this.sweetAlertService.openMeSweetAlert(o)}bottomReachedHandler(){this.listEntities.requestNextPage()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.U),t.Y36(m.sK),t.Y36(g.L),t.Y36(v.T),t.Y36(p.y),t.Y36(l.F0),t.Y36(h.x),t.Y36(x.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-incomes"]],features:[t._Bn([g.L,v.T,p.y,h.x])],decls:34,vars:38,consts:[[1,"container"],[1,"search-bar"],[3,"placeholder","keyword","changeEvent"],[3,"text","disabled","clickEvent"],[3,"text","clickEvent"],["scrollToBottom","",1,"incomes",3,"componentLoading","bottomReached"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header","sticky"],[4,"ngFor","ngForOf"],[1,"grid-item"],[1,"grid-item","align-right"],[3,"iconName","isTransparentMode","clickEvent"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"app-search-input",2),t.NdJ("changeEvent",function(a){return o.inputSearchHandler(a)}),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-button",3),t.NdJ("clickEvent",function(){return o.createIncome()}),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"app-button",4),t.NdJ("clickEvent",function(){return o.outcomes()}),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t.NdJ("bottomReached",function(){return o.bottomReachedHandler()}),t.ALo(9,"async"),t.TgZ(10,"div",6),t.TgZ(11,"div",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",7),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",7),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",7),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",7),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",7),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.YNc(32,M,17,16,"ng-container",8),t.ALo(33,"async"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("placeholder",t.lcZ(3,14,"searchFor"))("keyword",o.keyword),t.xp6(2),t.Q6J("text",t.lcZ(5,16,"createIncome"))("disabled",!o.hasPrivilege("INCOME_CREATE")),t.xp6(2),t.Q6J("text",t.lcZ(7,18,"outcomes")),t.xp6(2),t.Q6J("componentLoading",t.lcZ(9,20,o.isLoading)||!1),t.xp6(4),t.hij(" ",t.lcZ(13,22,"buyerName")," "),t.xp6(3),t.hij(" ",t.lcZ(16,24,"date")," "),t.xp6(3),t.hij(" ",t.lcZ(19,26,"amount")," "),t.xp6(3),t.hij(" ",t.lcZ(22,28,"bankStatementNumber")," "),t.xp6(3),t.hij(" ",t.lcZ(25,30,"comment")," "),t.xp6(3),t.hij(" ",t.lcZ(28,32,"edit")," "),t.xp6(3),t.hij(" ",t.lcZ(31,34,"delete")," "),t.xp6(2),t.Q6J("ngForOf",t.lcZ(33,36,o.entities)))},directives:[I.J,S.r,y.C,E.T,r.sg],pipes:[m.X$,r.Ov,r.uU,r.JJ],styles:["[_nghost-%COMP%]{display:flex;height:calc(100%)}.container[_ngcontent-%COMP%]{height:calc(100%)}.container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]   .incomes[_ngcontent-%COMP%]{height:calc(100% - 120px);overflow-y:auto;margin-top:20px}.container[_ngcontent-%COMP%]   .incomes[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto auto auto}"]}),i})(),canActivate:[Z.Y],data:{permission:"INCOMES_VIEW"}}];let P=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.Bz.forChild(L)],l.Bz]}),i})();var J=n(2024),N=n(2763),F=n(6460),O=n(8109),j=n(8287),U=n(6225);let Y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,P,m.aw,J.h,N.i,F.n,O.V,j.n,U.y]]}),i})()}}]);