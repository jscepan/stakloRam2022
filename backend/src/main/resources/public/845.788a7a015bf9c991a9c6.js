"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[845],{5845:(f,h,e)=>{e.r(h),e.d(h,{PasswordChangeModule:()=>T});var i=e(9808),m=e(119),a=e(7942),o=e(7322),c=e(3194),s=e(3679),g=e(4107),p=e(2024),v=e(4655),w=e(6240),x=e(4794),b=e(5595),P=e(4463),C=e(7865),t=e(7716),A=e(8794),Z=e(1928),M=e(8933),E=e(42);function S(r,d){if(1&r){const n=t.EpF();t.TgZ(0,"form",4),t.TgZ(1,"div",5),t.TgZ(2,"mat-form-field"),t.TgZ(3,"mat-label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"input",6),t.qZA(),t.TgZ(7,"mat-form-field"),t.TgZ(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field"),t.TgZ(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"input",8),t.qZA(),t.TgZ(17,"mat-form-field"),t.TgZ(18,"mat-label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t._UZ(21,"input",9),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"app-button",11),t.NdJ("clickEvent",function(){return t.CHM(n),t.oxw().cancel()}),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"app-button",12),t.NdJ("clickEvent",function(){return t.CHM(n),t.oxw().handleSubmitButton()}),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("formGroup",n.formGroup),t.xp6(3),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(5,27,"username")," "),t.xp6(4),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(10,29,"oldPassword")," "),t.xp6(2),t.Q6J("type","password"),t.xp6(2),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(15,31,"newPassword")," "),t.xp6(2),t.Q6J("type","password"),t.xp6(2),t.ekj("mark-required",!0)("mark-opt-required",!0),t.xp6(1),t.hij(" ",t.lcZ(20,33,"newPasswordRepeat")," "),t.xp6(2),t.Q6J("type","password"),t.xp6(2),t.Q6J("text",t.lcZ(24,35,"cancel")),t.xp6(2),t.Q6J("text",t.lcZ(26,37,"save"))("disabled",!n.formGroup.dirty||n.formGroup.invalid)}}const O=[{path:"",component:(()=>{class r{constructor(n,l,u,y,L,N){this.router=n,this.globalService=l,this.webService=u,this.translateService=y,this.localStorageService=L,this.authStoreService=N,this.subs=new P.L,this.username=""}ngOnInit(){var n;this.formGroup=new s.cw({username:new s.NI(null===(n=this.authStoreService.user)||void 0===n?void 0:n.username,[s.kI.required]),oldPassword:new s.NI("",[s.kI.required]),newPassword:new s.NI("",[s.kI.required]),newPasswordRepeat:new s.NI("",[s.kI.required])})}cancel(){this.router.navigate(["/"])}handleSubmitButton(){var n,l;(null===(n=this.formGroup.get("newPassword"))||void 0===n?void 0:n.value)===(null===(l=this.formGroup.get("newPasswordRepeat"))||void 0===l?void 0:l.value)?this.webService.changePassword(this.formGroup.value).subscribe(u=>{u&&u.jwt&&(this.localStorageService.set("jwt",`Bearer ${u.jwt}`),this.globalService.showBasicAlert(x.I.success,this.translateService.instant("success"),this.translateService.instant("passwordSuccessfullyChanged")))}):this.globalService.showBasicAlert(x.I.error,this.translateService.instant("error"),this.translateService.instant("newPasswordDontMatch"))}ngOnDestroy(){this.subs.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(v.F0),t.Y36(A.U),t.Y36(w.r),t.Y36(m.sK),t.Y36(Z.n),t.Y36(M.g))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-password-change"]],features:[t._Bn([w.r,C.T,b.y])],decls:7,vars:4,consts:[[1,"wrapper"],[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["matInput","","formControlName","username","readonly",""],["matInput","","formControlName","oldPassword",3,"type"],["matInput","","formControlName","newPassword",3,"type"],["matInput","","formControlName","newPasswordRepeat",3,"type"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"]],template:function(n,l){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.YNc(6,S,27,39,"form",3),t.qZA(),t.qZA()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,2,"passwordChange")," "),t.xp6(2),t.Q6J("ngIf",l.formGroup))},directives:[i.O5,s._Y,s.JL,s.sg,o.KE,o.hX,c.Nt,s.Fj,s.JJ,s.u,E.r],pipes:[m.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex-direction:column;margin-top:20px;display:flex}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:100px;flex-direction:row;align-items:center;justify-content:space-between;border-top:2px dotted var(--color-main-light)}"]}),r})()}];let I=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[v.Bz.forChild(O)],v.Bz]}),r})(),T=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[i.ez,I,m.aw,a.p,p.h,s.UX,c.c,o.lN,g.LD]]}),r})()},287:(f,h,e)=>{e.d(h,{h:()=>i});class i{constructor(){this.criteriaQuick="",this.betweenAttributes=[],this.ordering="ASC"}getBetweenAttributes(){return this.betweenAttributes}addBetweenAttribute(a){let o=this.betweenAttributes.findIndex(c=>c.attribute===a.attribute);o<0?this.betweenAttributes.push(a):this.betweenAttributes[o]=a}clearAllBetweenAttributes(){this.betweenAttributes=[]}removeBetweenAttribute(a){let o=this.betweenAttributes.findIndex(c=>c.attribute===a);o>=0&&this.betweenAttributes.splice(o,1)}}},5595:(f,h,e)=>{e.d(h,{y:()=>o});var i=e(6215),m=e(8939),a=e(287);class o{constructor(){this.entities$=new i.X([]),this.totalEntitiesLength$=new i.X(void 0),this.bottomReached$=new i.X(!1),this.isLoading$=new i.X(!1),this.entities=this.entities$.asObservable(),this.totalEntitiesLength=this.totalEntitiesLength$.asObservable(),this.isLoading=this.isLoading$.asObservable(),this.searchModel=new a.h,this.NUMBER_OF_ITEMS_ON_PAGE=50}get numberOfItemsOnPage(){return this.NUMBER_OF_ITEMS_ON_PAGE}setWebService(s){return this.webService=s,this}setOrdering(s){return this.searchModel.ordering=s,this}setFilter(s){this.searchModel=s,this.requestFirstPage()}requestFirstPage(){this.bottomReached$.next(!1),this.entities$.next([]),this.totalEntitiesLength$.next(0),this.requestNextPage()}requestNextPage(){var s;this.bottomReached$.getValue()||(this.isLoading$.next(!0),null===(s=this.webService)||void 0===s||s.searchEntities(this.searchModel,this.entities$.getValue().length||0,this.NUMBER_OF_ITEMS_ON_PAGE).pipe((0,m.x)(()=>{this.isLoading$.next(!1)})).subscribe(g=>{this.entities$.next(this.entities$.getValue().concat(g.entities));const p=this.entities$.getValue().length||0;this.bottomReached$.next(!(p<g.totalCount)),this.totalEntitiesLength$.next(g.totalCount)}))}}}}]);