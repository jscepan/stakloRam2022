"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[924],{7095:(C,d,t)=>{t.d(d,{Y:()=>g});var n=t(4794),a=t(5e3),m=t(8933),v=t(8794),f=t(9285);let g=(()=>{class o{constructor(c,_,l){this.authStoreService=c,this.globalService=_,this.translateService=l}canActivate(c){var _;return!(!(null===(_=this.authStoreService.user)||void 0===_?void 0:_.roles)||!this.authStoreService.isAllowed(c.data.permission))||(this.globalService.showBasicAlert(n.I.error,this.translateService.instant("accessDenied"),this.translateService.instant("youDontHaveAccess")),!1)}}return o.\u0275fac=function(c){return new(c||o)(a.LFG(m.g),a.LFG(v.U),a.LFG(f.sK))},o.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},6924:(C,d,t)=>{t.r(d),t.d(d,{DebtorsReviewModule:()=>x});var n=t(9808),a=t(9285),m=t(2024),v=t(8966),f=t(3497),g=t(6460),o=t(8287),p=t(8555),c=t(7095),_=t(4463),l=t(2134),E=t(29),u=t(1558),e=t(5e3),I=t(4605),A=t(773),M=t(42);function T(s,h){1&s&&(e.TgZ(0,"div",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"noResults")," "))}function b(s,h){1&s&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner"),e.qZA())}function y(s,h){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",10),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"div",10)(13,"app-button",11),e.NdJ("clickEvent",function(){const O=e.CHM(r).$implicit;return e.oxw().viewDebtor(O)}),e.ALo(14,"translate"),e.qZA()(),e.BQk()}if(2&s){const r=h.$implicit;e.xp6(2),e.Oqu(null==r.buyer?null:r.buyer.name),e.xp6(2),e.Oqu(e.Dn7(5,5,r.debtSum,"1.2-2","de")),e.xp6(3),e.Oqu(e.Dn7(8,9,r.positiveSum,"1.2-2","de")),e.xp6(3),e.Oqu(e.Dn7(11,13,r.negativeSum,"1.2-2","de")),e.xp6(3),e.Q6J("text",e.lcZ(14,17,"view"))}}const P=[{path:"",component:(()=>{class s{constructor(r,i){this.webService=r,this.router=i,this.subs=new _.L,this.allDebtors=[],this.entities=[],this.isLoading=!0}ngOnInit(){this.webService.getAllDebtors().subscribe(r=>{this.allDebtors=r,this.entities=r,this.isLoading=!1})}viewDebtor(r){var i;window.open("#/print/debtor/"+(null===(i=r.buyer)||void 0===i?void 0:i.oid))}inputSearchHandler(r){this.isLoading=!0,this.entities=[],this.allDebtors.forEach(i=>{var D;(0,l.B4)(r,[(null===(D=i.buyer)||void 0===D?void 0:D.name)||""])&&this.entities.push(i)}),this.isLoading=!1}ngOnDestroy(){this.subs.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(u.X),e.Y36(p.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-debtors-review"]],features:[e._Bn([E.N,u.X])],decls:23,vars:21,consts:[[1,"container"],[1,"search-bar"],[3,"placeholder","changeEvent"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header","sticky"],["class","no-results",4,"ngIf"],["class","spinner",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"no-results"],[1,"spinner"],[1,"grid-item"],[3,"text","clickEvent"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-search-input",2),e.NdJ("changeEvent",function(O){return i.inputSearchHandler(O)}),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",4),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",4),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",4),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,T,3,3,"div",5),e.YNc(21,b,2,0,"div",6),e.YNc(22,y,15,19,"ng-container",7),e.qZA()()),2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,9,"searchFor")),e.xp6(4),e.Oqu(e.lcZ(7,11,"buyer")),e.xp6(3),e.Oqu(e.lcZ(10,13,"state")),e.xp6(3),e.Oqu(e.lcZ(13,15,"owed")),e.xp6(3),e.Oqu(e.lcZ(16,17,"debt")),e.xp6(3),e.Oqu(e.lcZ(19,19,"view")),e.xp6(2),e.Q6J("ngIf",0===i.entities.length&&!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngForOf",i.entities))},directives:[I.J,n.O5,A.Ou,n.sg,M.r],pipes:[a.X$,n.JJ],styles:[".container[_ngcontent-%COMP%]{height:100%;min-width:500px}.container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto;max-height:calc(100% - 100px);overflow-y:auto}"]}),s})(),canActivate:[c.Y],data:{permission:"DEBTORS_VIEW"}}];let Z=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[p.Bz.forChild(P)],p.Bz]}),s})(),x=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[n.ez,Z,a.aw,m.h,v.Is,f.N,g.n,o.n,A.Cq]]}),s})()},4605:(C,d,t)=>{t.d(d,{J:()=>_});var n=t(5e3),a=t(3075),m=t(13),v=t(7322),f=t(7531),g=t(9808),o=t(6541);function p(l,E){1&l&&n._UZ(0,"i-feather",4)}function c(l,E){if(1&l){const u=n.EpF();n.TgZ(0,"i-feather",5),n.NdJ("click",function(){return n.CHM(u),n.oxw().resetSearchInputValue()}),n.qZA()}}let _=(()=>{class l{constructor(){this.keyword="",this.placeholder="Search for...",this.debounceTime=500,this.minCharacters=1,this.changeEvent=new n.vpe,this.searchInput=new a.NI}ngOnInit(){this.inputChangeSubscription=this.searchInput.valueChanges.pipe((0,m.b)(this.debounceTime)).subscribe(()=>{(0===this.searchInput.value.length||this.searchInput.value.length>=this.minCharacters)&&this.changeEvent.emit(this.searchInput.value)})}ngOnChanges(u){u.keyword&&u.keyword.previousValue&&u.keyword.currentValue!==u.keyword.previousValue&&this.searchInput.setValue(this.keyword,{emitEvent:!1})}resetSearchInputValue(){this.searchInput.setValue("")}ngOnDestroy(){this.inputChangeSubscription.unsubscribe()}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-search-input"]],inputs:{keyword:"keyword",placeholder:"placeholder",debounceTime:"debounceTime",minCharacters:"minCharacters"},outputs:{changeEvent:"changeEvent"},features:[n.TTD],decls:6,vars:5,consts:[[1,"me-search-input-form-field"],["type","text","matInput","",3,"formControl","autocomplete"],["matSuffix","","name","search","class","search-icon",4,"ngIf"],["name","x","class","close","matSuffix","",3,"click",4,"ngIf"],["matSuffix","","name","search",1,"search-icon"],["name","x","matSuffix","",1,"close",3,"click"]],template:function(u,e){1&u&&(n.TgZ(0,"mat-form-field",0)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",1),n.YNc(4,p,1,0,"i-feather",2),n.YNc(5,c,1,0,"i-feather",3),n.qZA()),2&u&&(n.xp6(2),n.Oqu(e.placeholder),n.xp6(1),n.Q6J("formControl",e.searchInput)("autocomplete","off"),n.xp6(1),n.Q6J("ngIf",!e.searchInput.value),n.xp6(1),n.Q6J("ngIf",e.searchInput.value))},directives:[v.KE,v.hX,f.Nt,a.Fj,a.JJ,a.oH,g.O5,o.uy,v.R9],styles:[".me-search-input-form-field .mat-form-field-wrapper{padding-bottom:0}\n"],encapsulation:2,changeDetection:0}),l})()},9360:(C,d,t)=>{t.d(d,{K:()=>a});var n=t(8228);class a extends n.g{constructor(){super(...arguments),this.description="",this.identificationCode=""}}},29:(C,d,t)=>{t.d(d,{N:()=>g});var n=t(4292),a=t(136),m=t(9360),v=t(5e3),f=t(3164);let g=(()=>{class o extends n.h{constructor(c){super(c,m.K,a.HT),this.baseWebService=c}}return o.\u0275fac=function(c){return new(c||o)(v.LFG(f.I))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac}),o})()}}]);