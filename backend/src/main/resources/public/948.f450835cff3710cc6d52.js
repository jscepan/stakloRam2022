"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[948],{3948:(w,u,i)=>{i.r(u),i.d(u,{IncomesModule:()=>B});var r=i(8583),l=i(4655),A=i(7095),h=i(4936),T=i(4794),f=i(3851),p=i(5153),C=i(287),g=i(5595),I=i(4463),v=i(7650),t=i(7716),x=i(8794),m=i(4333),E=i(8933),b=i(4605),y=i(42),S=i(4286),Z=i(773);function L(n,s){1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"noResults")," "))}function M(n,s){1&n&&(t.TgZ(0,"div",12),t._UZ(1,"mat-spinner"),t.qZA())}function J(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13),t._uU(2),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"div",14),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"div",13),t._uU(10),t.qZA(),t.TgZ(11,"div",13),t._uU(12),t.qZA(),t.TgZ(13,"div",13),t.TgZ(14,"app-button",15),t.NdJ("clickEvent",function(){const a=t.CHM(e).$implicit;return t.oxw().editIncome(a.oid)}),t.qZA(),t.qZA(),t.TgZ(15,"div",13),t.TgZ(16,"app-button",15),t.NdJ("clickEvent",function(){const a=t.CHM(e).$implicit;return t.oxw().deleteIncome(a)}),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=s.$implicit;t.xp6(2),t.hij(" ",e.buyer.name," "),t.xp6(2),t.hij(" ",t.xi3(5,9,e.date,"dd.MM.yyyy")," "),t.xp6(3),t.hij(" ",t.Dn7(8,12,e.amount,"1.2-2","de")," "),t.xp6(3),t.hij(" ",e.bankStatementNumber," "),t.xp6(2),t.hij(" ",e.comment," "),t.xp6(2),t.Q6J("iconName","edit")("isTransparentMode",!0),t.xp6(2),t.Q6J("iconName","trash-2")("isTransparentMode",!0)}}const N=[{path:"",component:(()=>{class n{constructor(e,o,c,a,d,Q,R,D){this.globalService=e,this.translateService=o,this.webService=c,this.sweetAlertService=a,this.listEntities=d,this.router=Q,this.incomeCreateEditPopupService=R,this.authStoreService=D,this.subs=new I.L,this.isLoading=this.listEntities.isLoading,this.entities=this.listEntities.entities,this.totalEntitiesLength=this.listEntities.totalEntitiesLength,this.keyword=""}ngOnInit(){this.subs.sink=this.listEntities.setWebService(this.webService).requestFirstPage()}hasPrivilege(e){return this.authStoreService.isAllowed(e)}inputSearchHandler(e){const o=new C.h;o.criteriaQuick=e,this.listEntities.setFilter(o)}outcomes(){this.router.navigate(["outcomes"])}createIncome(){this.incomeCreateEditPopupService.openDialog().subscribe(e=>{e&&this.listEntities.requestFirstPage()})}editIncome(e){this.incomeCreateEditPopupService.openDialog(e).subscribe(o=>{o&&this.listEntities.requestFirstPage()})}deleteIncome(e){this.subs.sink.$deleteIncome=this.sweetAlertService.getDataBackFromSweetAlert().subscribe(c=>{c&&c.confirmed&&(this.subs.sink=this.webService.deleteEntity([e]).subscribe(()=>{this.globalService.showBasicAlert(T.I.success,this.translateService.instant("incomeDeleted"),this.translateService.instant("incomeHaveBeenSuccessfullyDeleted")),this.listEntities.requestFirstPage()}))});const o={mode:"warning",icon:"alert-triangle",type:{name:f.N.submit,buttons:{submit:this.translateService.instant("delete"),cancel:this.translateService.instant("cancel")}},title:this.translateService.instant("deleteIncome"),message:this.translateService.instant("areYouSureYouWantToDeleteTheIncome")};this.sweetAlertService.openMeSweetAlert(o)}bottomReachedHandler(){this.listEntities.requestNextPage()}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.U),t.Y36(m.sK),t.Y36(v.L),t.Y36(p.T),t.Y36(g.y),t.Y36(l.F0),t.Y36(h.x),t.Y36(E.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-incomes"]],features:[t._Bn([v.L,p.T,g.y,h.x])],decls:38,vars:43,consts:[[1,"container"],[1,"search-bar"],[3,"placeholder","keyword","changeEvent"],[3,"text","disabled","clickEvent"],[3,"text","clickEvent"],["scrollToBottom","",1,"incomes",3,"bottomReached"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header","sticky"],["class","no-results",4,"ngIf"],["class","spinner",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"no-results"],[1,"spinner"],[1,"grid-item"],[1,"grid-item","align-right"],[3,"iconName","isTransparentMode","clickEvent"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"app-search-input",2),t.NdJ("changeEvent",function(a){return o.inputSearchHandler(a)}),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-button",3),t.NdJ("clickEvent",function(){return o.createIncome()}),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"app-button",4),t.NdJ("clickEvent",function(){return o.outcomes()}),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t.NdJ("bottomReached",function(){return o.bottomReachedHandler()}),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",7),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",7),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",7),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",7),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",7),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",7),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.YNc(31,L,3,3,"div",8),t.ALo(32,"async"),t.ALo(33,"async"),t.YNc(34,M,2,0,"div",9),t.ALo(35,"async"),t.YNc(36,J,17,16,"ng-container",10),t.ALo(37,"async"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("placeholder",t.lcZ(3,15,"searchFor"))("keyword",o.keyword),t.xp6(2),t.Q6J("text",t.lcZ(5,17,"createIncome"))("disabled",!o.hasPrivilege("INCOME_CREATE")),t.xp6(2),t.Q6J("text",t.lcZ(7,19,"outcomes")),t.xp6(5),t.hij(" ",t.lcZ(12,21,"buyerName")," "),t.xp6(3),t.hij(" ",t.lcZ(15,23,"date")," "),t.xp6(3),t.hij(" ",t.lcZ(18,25,"amount")," "),t.xp6(3),t.hij(" ",t.lcZ(21,27,"bankStatementNumber")," "),t.xp6(3),t.hij(" ",t.lcZ(24,29,"comment")," "),t.xp6(3),t.hij(" ",t.lcZ(27,31,"edit")," "),t.xp6(3),t.hij(" ",t.lcZ(30,33,"delete")," "),t.xp6(2),t.Q6J("ngIf",0===t.lcZ(32,35,o.totalEntitiesLength)&&!t.lcZ(33,37,o.isLoading)),t.xp6(3),t.Q6J("ngIf",t.lcZ(35,39,o.isLoading)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(37,41,o.entities)))},directives:[b.J,y.r,S.C,r.O5,r.sg,Z.$g],pipes:[m.X$,r.Ov,r.uU,r.JJ],styles:["[_nghost-%COMP%]{display:flex;height:calc(100%)}.container[_ngcontent-%COMP%]{height:calc(100%)}.container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]   .incomes[_ngcontent-%COMP%]{height:calc(100% - 120px);overflow-y:auto;margin-top:20px}.container[_ngcontent-%COMP%]   .incomes[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto auto auto}"]}),n})(),canActivate:[A.Y],data:{permission:"INCOMES_VIEW"}}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(N)],l.Bz]}),n})();var O=i(2024),j=i(2763),F=i(6460),U=i(8287),Y=i(6225);let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,P,m.aw,O.h,j.i,F.n,U.n,Y.y,Z.Cq]]}),n})()}}]);