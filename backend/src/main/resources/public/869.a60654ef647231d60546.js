"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[869],{869:(J,Z,c)=>{c.r(Z),c.d(Z,{WorkOrderCreateEditModule:()=>Le});var g=c(8583),x=c(4655),C=c(7095),a=c(3679),u=c(1217),f=c(4794),_=c(136),y=c(287),k=c(5595),R=c(4463),M=c(2134),Q=c(7379),D=c(2050),K=c(9761),z=c(8002),$=c(4292),V=c(8228);class X extends V.g{constructor(){super(...arguments),this.url="",this.description=""}}var e=c(7716),ee=c(7515);let L=(()=>{class o extends $.h{constructor(t){super(t,X,_.IF),this.baseWebService=t}upload(t){return this.baseWebService.postRequest(_.Mr+"/"+this.domainName,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ee.I))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var te=c(8794),w=c(4333),re=c(7347),ne=c(8933),T=c(7322),H=c(3722),oe=c(3336),ie=c(42),G=c(4107),U=c(6591),se=c(1862),B=c(4657),A=c(1079),j=c(7446);const ae=["fileCtrl"];function ce(o,l){if(1&o&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("value",t.selectedBuyer),e.xp6(1),e.Oqu(t.selectedBuyer.name)}}function le(o,l){if(1&o&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function ue(o,l){if(1&o&&(e.ynx(0),e.YNc(1,le,2,2,"mat-option",11),e.BQk()),2&o){const t=l.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==r.selectedBuyer?null:r.selectedBuyer.oid)!==t.oid)}}function de(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",31),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw(2).createBuyer()}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("iconName","plus")("disabled",!t.hasPrivilege("BUYER_CREATE"))}}function me(o,l){if(1&o&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function _e(o,l){if(1&o&&(e.TgZ(0,"mat-option",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=l.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.displayName)," ")}}const E=function(){return{standalone:!0}};function pe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"mat-checkbox",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw().index;return e.oxw(2).sumForGrindingsItems[i].isCalculated=n})("change",function(){e.CHM(t);const n=e.oxw().index,i=e.oxw(2);return i.calculateGrindingLengthForItem(n),i.calculateWorkOrderSumOfGrinding()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw().index,r=e.oxw(2);let n;e.Q6J("color","primary")("ngModel",r.sumForGrindingsItems[t].isCalculated)("ngModelOptions",e.DdM(7,E))("disabled","M2"!==(null==(n=r.getUOM(t))?null:n.value)),e.xp6(1),e.Oqu(e.lcZ(2,5,"calcLength"))}}function ge(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",51),e.TgZ(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw().index;return e.oxw(2).sumForGrindingsItems[i].value=n})("change",function(){return e.CHM(t),e.oxw(3).calculateWorkOrderSumOfGrinding()}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw().index,r=e.oxw(2);e.xp6(1),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(3,7,"length")," "),e.xp6(2),e.Q6J("ngModel",r.sumForGrindingsItems[t].value)("ngModelOptions",e.DdM(9,E))}}function fe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"mat-form-field",34),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"input",35,36),e.NdJ("keydown.enter",function(){return e.CHM(t),e.MAs(7).closePanel()})("keypress",function(n){const s=e.CHM(t).index,d=e.oxw(2);return d.onKeypress(n,"description",s),d.calculateGrindingLengthForItem(s),d.switchOnCalcBasedOnDescription(s)})("change",function(){const i=e.CHM(t).index;return e.oxw(2).switchOnCalcBasedOnDescription(i)}),e.qZA(),e.TgZ(8,"mat-autocomplete",null,37),e.YNc(10,me,2,2,"mat-option",38),e.ALo(11,"async"),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",39),e.TgZ(13,"mat-label"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"mat-select",40),e.NdJ("focusout",function(){const i=e.CHM(t).index,s=e.oxw(2);return s.calculateWorkOrderSum(i),s.calculateGrindingLengthForItem(i)})("openedChange",function(n){const s=e.CHM(t).index;return e.oxw(2).openedToggleOnUomSelect(n,s)}),e.YNc(17,_e,3,4,"mat-option",38),e.qZA(),e.qZA(),e.TgZ(18,"mat-form-field",39),e.TgZ(19,"mat-label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",41),e.NdJ("keypress",function(n){const s=e.CHM(t).index;return e.oxw(2).onKeypress(n,"dimension1",s)})("change",function(){const i=e.CHM(t).index,s=e.oxw(2);return s.calculateWorkOrderSum(i),s.calculateGrindingLengthForItem(i)})("focusout",function(){const i=e.CHM(t).index;return e.oxw(2).calculateWorkOrderSum(i)}),e.qZA(),e.qZA(),e.TgZ(23,"mat-form-field",39),e.TgZ(24,"mat-label"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",42),e.NdJ("keypress",function(n){const s=e.CHM(t).index;return e.oxw(2).onKeypress(n,"dimension2",s)})("change",function(){const i=e.CHM(t).index,s=e.oxw(2);return s.calculateWorkOrderSum(i),s.calculateGrindingLengthForItem(i)})("focusout",function(){const i=e.CHM(t).index;return e.oxw(2).calculateWorkOrderSum(i)}),e.qZA(),e.qZA(),e.TgZ(28,"mat-form-field",39),e.TgZ(29,"mat-label"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"input",43),e.NdJ("keypress",function(n){const s=e.CHM(t).index;return e.oxw(2).onKeypress(n,"quantity",s)})("change",function(){const i=e.CHM(t).index,s=e.oxw(2);return s.calculateWorkOrderSum(i),s.calculateGrindingLengthForItem(i)})("focusout",function(){const i=e.CHM(t).index;return e.oxw(2).calculateWorkOrderSum(i)}),e.qZA(),e.qZA(),e.TgZ(33,"mat-form-field",39),e.TgZ(34,"mat-label"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"input",44),e.NdJ("keypress",function(n){const s=e.CHM(t).index;return e.oxw(2).onKeypress(n,"sumQuantity",s)})("change",function(){return e.CHM(t),e.oxw(2).calculateSum()}),e.qZA(),e.qZA(),e.TgZ(38,"mat-form-field"),e.TgZ(39,"mat-label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"input",45),e.NdJ("keypress",function(n){const s=e.CHM(t).index;return e.oxw(2).onKeypress(n,"note",s)}),e.qZA(),e.qZA(),e.TgZ(43,"app-button",46),e.NdJ("clickEvent",function(){const i=e.CHM(t).index;return e.oxw(2).removeItem(i)}),e.qZA(),e.TgZ(44,"mat-checkbox",47),e.NdJ("change",function(n){const s=e.CHM(t).index;return e.oxw(2).calculateWorkOrderSum(s,n.checked)}),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.YNc(47,pe,3,8,"mat-checkbox",48),e.YNc(48,ge,5,10,"mat-form-field",49),e.qZA(),e.qZA()}if(2&o){const t=l.index,r=e.MAs(9),n=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(2),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(5,46,"description")," "),e.xp6(2),e.Q6J("matAutocomplete",r),e.xp6(4),e.Q6J("ngForOf",e.lcZ(11,48,n.getFilteredOptions(t))),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(15,50,"uom")," "),e.xp6(3),e.Q6J("ngForOf",n.uomOptions),e.xp6(2),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(21,52,"widthMM")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(26,54,"heightMM")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(31,56,"quantity")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(36,58,"sum")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(41,60,"note")," "),e.xp6(3),e.Q6J("iconName","minus")("isTransparentMode",!0),e.xp6(1),e.Q6J("color","primary")("checked",!0),e.xp6(1),e.Oqu(e.lcZ(46,62,"consMeas")),e.xp6(2),e.Q6J("ngIf",!n.sumForGrindingsItems[t].isCalculated),e.xp6(1),e.Q6J("ngIf",n.sumForGrindingsItems[t].isCalculated)}}function ve(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",53),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw(2).addSumOfGrindingItems()}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("iconName","plus")("text",e.lcZ(1,4,"addGrinding")+" ("+t.sumOfGrinding+")")("isTransparentMode",!0)("disabled",!t.isBuyerSelected)}}function Ce(o,l){1&o&&(e.TgZ(0,"div",57),e.TgZ(1,"div",58),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",59),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"sumMeter2")),e.xp6(3),e.Oqu(e.lcZ(6,4,"quantity")))}function he(o,l){if(1&o&&(e.TgZ(0,"div",60),e.TgZ(1,"div",58),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"div",59),e._uU(5),e.ALo(6,"number"),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(e.Dn7(3,2,t.sumMeter2,"1.2-2","de")),e.xp6(3),e.hij(" ",e.Dn7(6,6,t.sumMeter2Quantity,"1.2-2","de")," ")}}function Oe(o,l){1&o&&(e.TgZ(0,"div",57),e.TgZ(1,"div",58),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",59),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"sumMeter")),e.xp6(3),e.Oqu(e.lcZ(6,4,"quantity")))}function xe(o,l){if(1&o&&(e.TgZ(0,"div",60),e.TgZ(1,"div",58),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"div",59),e._uU(5),e.ALo(6,"number"),e.qZA(),e.qZA()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(e.Dn7(3,2,t.sumMeter,"1.2-2","de")),e.xp6(3),e.hij(" ",e.Dn7(6,6,t.sumMeterQuantity,"1.2-2","de")," ")}}function ke(o,l){1&o&&(e.TgZ(0,"div",57),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"sumPieces")," "))}function Me(o,l){if(1&o&&(e.TgZ(0,"div",60),e._uU(1),e.ALo(2,"number"),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.Dn7(2,1,t.sumPieces,"1.2-2","de")," ")}}function Ze(o,l){1&o&&(e.TgZ(0,"div",57),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"sumHours")," "))}function be(o,l){if(1&o&&(e.TgZ(0,"div",60),e._uU(1),e.ALo(2,"number"),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.Dn7(2,1,t.sumHours,"1.2-2","de")," ")}}function ye(o,l){if(1&o&&(e.TgZ(0,"div",54),e.YNc(1,Ce,7,6,"div",55),e.YNc(2,he,7,10,"div",56),e.YNc(3,Oe,7,6,"div",55),e.YNc(4,xe,7,10,"div",56),e.YNc(5,ke,3,3,"div",55),e.YNc(6,Me,3,5,"div",56),e.YNc(7,Ze,3,3,"div",55),e.YNc(8,be,3,5,"div",56),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.sumMeter2>0),e.xp6(1),e.Q6J("ngIf",t.sumMeter2>0),e.xp6(1),e.Q6J("ngIf",t.sumMeter>0),e.xp6(1),e.Q6J("ngIf",t.sumMeter>0),e.xp6(1),e.Q6J("ngIf",t.sumPieces>0),e.xp6(1),e.Q6J("ngIf",t.sumPieces>0),e.xp6(1),e.Q6J("ngIf",t.sumHours>0),e.xp6(1),e.Q6J("ngIf",t.sumHours>0)}}const we=function(o){return{"background-image":o}};function Te(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",61),e.TgZ(1,"div",62),e.TgZ(2,"app-button",63),e.NdJ("clickEvent",function(){const i=e.CHM(t).index;return e.oxw(2).uploadFile(i)}),e.qZA(),e.TgZ(3,"input",64,65),e.NdJ("change",function(n){const s=e.CHM(t).index;return e.oxw(2).onFileSelected(n,s)}),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"input",66),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.description=n}),e.qZA(),e.qZA(),e.TgZ(10,"app-button",63),e.NdJ("clickEvent",function(){const i=e.CHM(t).index;return e.oxw(2).removeImage(i)}),e.qZA(),e.qZA(),e._UZ(11,"div",67),e.qZA()}if(2&o){const t=l.$implicit;e.xp6(2),e.Q6J("iconName","upload")("isTransparentMode",!0),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(8,12,"description")," "),e.xp6(2),e.Q6J("ngModel",t.description)("ngModelOptions",e.DdM(14,E)),e.xp6(1),e.Q6J("iconName","minus")("isTransparentMode",!0),e.xp6(1),e.Q6J("ngStyle",e.VKq(15,we,"url("+t.fullUrl+")"))}}function Ae(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form",5),e.TgZ(1,"div",6),e.TgZ(2,"mat-form-field"),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"input",7),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().onKeypress(n,"number")}),e.qZA(),e.qZA(),e.TgZ(7,"app-button",8),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().setWorkOrderNumber()}),e.ALo(8,"translate"),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"mat-form-field"),e.TgZ(11,"mat-label"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"mat-select",9),e.NdJ("valueChange",function(){return e.CHM(t),e.oxw().buyerChanged()})("infiniteScroll",function(){return e.CHM(t),e.oxw().bottomReachedHandlerBuyers()})("selectionChange",function(n){return e.CHM(t),e.oxw().selectBuyer(n)}),e.TgZ(15,"mat-option"),e.TgZ(16,"ngx-mat-select-search",10),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().searchHandler(n)}),e.ALo(17,"translate"),e.ALo(18,"translate"),e.ALo(19,"async"),e.qZA(),e.qZA(),e.YNc(20,ce,2,2,"mat-option",11),e.YNc(21,ue,2,1,"ng-container",12),e.ALo(22,"async"),e.qZA(),e.qZA(),e.YNc(23,de,1,2,"app-button",13),e.qZA(),e.TgZ(24,"div",6),e.TgZ(25,"mat-form-field"),e.TgZ(26,"mat-label"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",14),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().onKeypress(n,"forPerson")}),e.qZA(),e.qZA(),e.TgZ(30,"mat-form-field"),e.TgZ(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"input",15),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().onKeypress(n,"description")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",6),e.TgZ(36,"mat-form-field"),e.TgZ(37,"mat-label"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"input",16),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().onKeypress(n,"dateOfCreate")}),e.qZA(),e.qZA(),e.TgZ(41,"mat-form-field"),e.TgZ(42,"mat-label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"input",17),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().onKeypress(n,"placeOfIssue")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",18),e.YNc(47,fe,49,64,"div",19),e.qZA(),e.TgZ(48,"div",20),e.TgZ(49,"div",21),e.TgZ(50,"app-button",22),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().addNewItem()}),e.ALo(51,"translate"),e.qZA(),e.YNc(52,ve,2,6,"app-button",23),e.qZA(),e.YNc(53,ye,9,8,"div",24),e.qZA(),e.TgZ(54,"div",6),e.TgZ(55,"mat-form-field",25),e.TgZ(56,"mat-label"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"textarea",26),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().onKeypress(n,"note")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",27),e.YNc(61,Te,12,17,"div",28),e.qZA(),e.TgZ(62,"app-button",29),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().addNewImage()}),e.ALo(63,"translate"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.formGroup),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(5,58,"numberOfWorkOrder")," "),e.xp6(3),e.Q6J("isTransparentMode",!0)("text",e.lcZ(8,60,"createNumber")),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(13,62,"buyer")," "),e.xp6(2),e.Q6J("compareWith",t.compareFn)("disabled",t.isEdit),e.xp6(2),e.s9C("placeholderLabel",e.lcZ(17,64,"searchFor")),e.s9C("noEntriesFoundLabel",e.lcZ(18,66,"noResults")),e.Q6J("formControl",t.searchControl)("hideClearSearchButton",!0)("clearSearchInput",!0)("searching",e.lcZ(19,68,t.isLoading)||!1)("disableScrollToActiveOnOptionsChanged",!0),e.xp6(4),e.Q6J("ngIf",t.selectedBuyer),e.xp6(1),e.Q6J("ngForOf",e.lcZ(22,70,t.buyersEntities)),e.xp6(2),e.Q6J("ngIf",!t.isEdit),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(28,72,"forNeedsOf")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(33,74,"description")," "),e.xp6(5),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(39,76,"dateOfCreate")," "),e.xp6(4),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(44,78,"placeOfIssue")," "),e.xp6(4),e.Q6J("ngForOf",t.workOrderItemsFormArr.controls),e.xp6(3),e.Q6J("iconName","plus")("text",e.lcZ(51,80,"addNewItem"))("disabled",!t.isBuyerSelected),e.xp6(2),e.Q6J("ngIf",t.sumOfGrinding>0),e.xp6(1),e.Q6J("ngIf",t.sumMeter2>0||t.sumMeter>0||t.sumPieces>0||t.sumHours>0),e.xp6(3),e.ekj("mark-required",!0)("mark-opt-required",!0),e.xp6(1),e.hij(" ",e.lcZ(58,82,"note")," "),e.xp6(4),e.Q6J("ngForOf",t.workOrderImages),e.xp6(1),e.Q6J("text",e.lcZ(63,84,"addImage"))}}function Ee(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",70),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw(2).handleSubmitButton(!0)}),e.ALo(1,"translate"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("text",e.lcZ(1,2,"saveAndCreateInvoice"))("disabled",!t.formGroup.dirty||t.formGroup.invalid)}}function Ie(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",68),e.TgZ(1,"div",1),e.TgZ(2,"app-button",69),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().cancel()}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"app-button",70),e.NdJ("clickEvent",function(){return e.CHM(t),e.oxw().handleSubmitButton()}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Ee,2,4,"app-button",71),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("text",e.lcZ(3,4,"cancel")),e.xp6(3),e.Q6J("text",e.lcZ(6,6,"save"))("disabled",!t.formGroup.dirty||t.formGroup.invalid),e.xp6(2),e.Q6J("ngIf",!t.isEdit)}}const Pe=[{path:"",component:(()=>{class o{constructor(t,r,n,i,s,d,p,m,v,h,O,b){this.router=t,this.route=r,this.globalService=n,this.listEntities=i,this.buyerCreateEditPopupService=s,this.buyerWebService=d,this.translateService=p,this.settingsStoreService=m,this.webService=v,this.imageWebService=h,this.el=O,this.authStoreService=b,this.subs=new R.L,this.workOrderOID=null,this.isEdit=!1,this.uomOptions=_.pM,this.workOrderItemsOptions=[],this.filteredOptions=[],this.buyersEntities=this.listEntities.entities,this.isLoading=this.listEntities.isLoading,this.searchControl=new a.NI,this.compareFn=M.nt,this.sumMeter2=0,this.sumMeter2Quantity=0,this.sumMeter=0,this.sumMeterQuantity=0,this.sumPieces=0,this.sumHours=0,this.workOrderImages=[],this.sumOfGrinding=0,this.sumForGrindingsItems=[]}getDescription(t){return this.workOrderItemsFormArr.controls[t].get("description")}getUOM(t){return this.workOrderItemsFormArr.controls[t].get("uom")}getDimension1(t){return this.workOrderItemsFormArr.controls[t].get("dimension1")}getDimension2(t){return this.workOrderItemsFormArr.controls[t].get("dimension2")}getQuantity(t){return this.workOrderItemsFormArr.controls[t].get("quantity")}getSumQuantity(t){return this.workOrderItemsFormArr.controls[t].get("sumQuantity")}ngOnInit(){this.workOrderOID=this.route.snapshot.paramMap.get("workOrderOID"),this.subs.sink=this.webService.getAllWorkOrderItemDescriptions().subscribe(t=>{this.workOrderItemsOptions=t}),this.subs.sink=this.listEntities.setWebService(this.buyerWebService).requestFirstPage(),this.subs.sink=this.settingsStoreService.dataLoaded$.subscribe(t=>{t&&(this.settings=this.settingsStoreService.getSettings(),this.isEdit=!!this.workOrderOID,this.isEdit&&this.workOrderOID?this.webService.getEntityByOid(this.workOrderOID).subscribe(r=>{this.workOrder=r,this.initializeEdit()}):this.initializeCreate(),this.isBuyerSelected=this.isEdit||!1)})}hasPrivilege(t){return this.authStoreService.isAllowed(t)}initializeCreate(){var t;this.formGroup=new a.cw({number:new a.NI(0,[a.kI.required]),buyer:new a.NI("",[a.kI.required]),dateOfCreate:new a.NI((new Date).toISOString().substring(0,10),[a.kI.required]),placeOfIssue:new a.NI((null===(t=this.settings)||void 0===t?void 0:t.workOrderPlaceOfIssue)||"",[a.kI.required]),forPerson:new a.NI(""),description:new a.NI(""),note:new a.NI(""),workOrderItems:new a.Oe([])}),this.setWorkOrderNumber()}initializeEdit(){this.selectedBuyer=this.workOrder.buyer,this.formGroup=new a.cw({number:new a.NI(this.workOrder.number,[a.kI.required]),buyer:new a.NI(this.selectedBuyer,[a.kI.required]),dateOfCreate:new a.NI(this.workOrder.dateOfCreate,[a.kI.required]),placeOfIssue:new a.NI(this.workOrder.placeOfIssue,[a.kI.required]),forPerson:new a.NI(this.workOrder.forPerson,[]),description:new a.NI(this.workOrder.description,[]),note:new a.NI(this.workOrder.note,[]),workOrderItems:new a.Oe([])}),this.workOrder.workOrderItems.forEach((t,r)=>this.addNewItem(t)),this.workOrder.images.forEach((t,r)=>this.addNewImage(t))}get workOrderItemsFormArr(){return this.formGroup.get("workOrderItems")}addNewItem(t){this.workOrderItemsFormArr.push(new a.cw({oid:new a.NI((null==t?void 0:t.oid)||""),description:new a.NI((null==t?void 0:t.description)||"",[a.kI.required]),uom:new a.NI((null==t?void 0:t.uom)||this.uomOptions[0].value,[a.kI.required]),dimension1:new a.NI((null==t?void 0:t.dimension1)||0),dimension2:new a.NI((null==t?void 0:t.dimension2)||0),quantity:new a.NI((null==t?void 0:t.quantity)||0),sumQuantity:new a.NI((null==t?void 0:t.sumQuantity)||0,[a.kI.required]),note:new a.NI((null==t?void 0:t.note)||"")})),setTimeout(()=>{var r;const n=null===(r=this.getDescription(this.workOrderItemsFormArr.length-1))||void 0===r?void 0:r.valueChanges.pipe((0,K.O)(""),(0,z.U)(i=>this._filter(i||"")));this.filteredOptions.push(n)}),this.calculateSum(),this.sumForGrindingsItems.push({isCalculated:"M2"===(null==t?void 0:t.uom)&&(null==t?void 0:t.description.includes("kp obrad"))||!1,value:0})}removeItem(t){this.workOrderItemsFormArr.removeAt(t),this.calculateSum(),this.formGroup.markAsDirty(),this.sumForGrindingsItems.splice(t,1),this.calculateWorkOrderSumOfGrinding()}calculateWorkOrderSum(t,r=!0){var n,i,s,d,p,m,v,h,O,b,I,P,N,q,W,S,F;switch(null===(n=this.getUOM(t))||void 0===n?void 0:n.value){case"M2":const Y=(r?(0,M.ZB)(1*(null===(i=this.getDimension1(t))||void 0===i?void 0:i.value)/10,null===(s=this.settings)||void 0===s?void 0:s.constructionMeasureCM):1*(null===(d=this.getDimension1(t))||void 0===d?void 0:d.value)/10)*(r?(0,M.ZB)(1*(null===(p=this.getDimension2(t))||void 0===p?void 0:p.value)/10,null===(m=this.settings)||void 0===m?void 0:m.constructionMeasureCM):1*(null===(v=this.getDimension2(t))||void 0===v?void 0:v.value)/10)/1e4;null===(h=this.getSumQuantity(t))||void 0===h||h.setValue((null===(O=this.getDescription(t))||void 0===O?void 0:O.value.toLowerCase().includes("termoizolaciono"))&&Y<((null===(b=this.settings)||void 0===b?void 0:b.termoizolacGlassMinArea)||.2)?(0,M.wz)(((null===(I=this.settings)||void 0===I?void 0:I.termoizolacGlassMinArea)||.2)*(1*(null===(P=this.getQuantity(t))||void 0===P?void 0:P.value)),3):(0,M.wz)(Y*(null===(N=this.getQuantity(t))||void 0===N?void 0:N.value)*1,3));break;case"M":const He=(1*(null===(q=this.getDimension1(t))||void 0===q?void 0:q.value)/10*2/100+1*(null===(W=this.getDimension2(t))||void 0===W?void 0:W.value)/10*2/100)*(1*(null===(S=this.getQuantity(t))||void 0===S?void 0:S.value));null===(F=this.getSumQuantity(t))||void 0===F||F.setValue((0,M.wz)(He,3))}this.calculateSum()}calculateSum(){this.sumMeter2=0,this.sumMeter2Quantity=0,this.sumMeter=0,this.sumMeterQuantity=0,this.sumPieces=0,this.sumHours=0,this.workOrderItemsFormArr.controls.forEach((t,r)=>{var n,i,s,d,p,m,v;switch(null===(n=this.getUOM(r))||void 0===n?void 0:n.value){case"M2":this.sumMeter2+=1*(null===(i=this.getSumQuantity(r))||void 0===i?void 0:i.value),this.sumMeter2Quantity+=1*(null===(s=this.getQuantity(r))||void 0===s?void 0:s.value);break;case"M":this.sumMeter+=1*(null===(d=this.getSumQuantity(r))||void 0===d?void 0:d.value),this.sumMeterQuantity+=1*(null===(p=this.getQuantity(r))||void 0===p?void 0:p.value);break;case"PCS":this.sumPieces+=1*(null===(m=this.getSumQuantity(r))||void 0===m?void 0:m.value);break;case"HOUR":this.sumHours+=1*(null===(v=this.getSumQuantity(r))||void 0===v?void 0:v.value)}})}uomChanged(t,r){var n,i,s,d,p,m,v,h,O;"PCS"===t||"HOUR"===t?(null===(n=this.getDimension1(r))||void 0===n||n.setValue(0),null===(i=this.getDimension1(r))||void 0===i||i.disable(),null===(s=this.getDimension2(r))||void 0===s||s.setValue(0),null===(d=this.getDimension2(r))||void 0===d||d.disable(),null===(p=this.getQuantity(r))||void 0===p||p.setValue(0),null===(m=this.getQuantity(r))||void 0===m||m.disable(),setTimeout(()=>{this.setFocusOn("sumQuantity",r,!0)})):(null===(v=this.getDimension1(r))||void 0===v||v.enable(),null===(h=this.getDimension2(r))||void 0===h||h.enable(),null===(O=this.getQuantity(r))||void 0===O||O.enable(),setTimeout(()=>{this.setFocusOn("dimension1",r,!0)})),this.getSumQuantity(r),this.calculateSum()}setWorkOrderNumber(){var t;this.webService.getNextWorkOrderNumber(null===(t=this.formGroup.get("dateOfCreate"))||void 0===t?void 0:t.value).subscribe(r=>{var n;null===(n=this.formGroup.get("number"))||void 0===n||n.setValue(r)})}buyerChanged(){setTimeout(()=>{var t;this.isBuyerSelected=null===(t=this.formGroup.get("buyer"))||void 0===t?void 0:t.value,0===this.workOrderItemsFormArr.controls.length&&this.addNewItem(),this.setFocusOn("forPerson")})}bottomReachedHandlerBuyers(){this.listEntities.requestNextPage()}selectBuyer(t){t&&t.value&&(this.selectedBuyer=t.value)}searchHandler(t){let r=new y.h;r.criteriaQuick=t,this.listEntities.setFilter(r)}createBuyer(){this.buyerCreateEditPopupService.openDialog().subscribe(t=>{t&&this.listEntities.requestFirstPage()})}cancel(){this.router.navigate(["/"])}handleSubmitButton(t=!1){const r=new FormData;let n=!1;const i=this.formGroup.value;i.images=[],this.workOrderImages.forEach(s=>{s.file?(r.append("files",s.file),n=!0,i.images.push({oid:"",url:"",description:s.description||""})):s.oid&&i.images.push({oid:s.oid,url:s.url,description:s.description})}),n?this.subs.sink=this.imageWebService.upload(r).subscribe(s=>{s.forEach((d,p)=>{for(let m=0;m<i.images.length;m++)if(""===i.images[m].url){i.images[m].url=d;break}}),this.submit(t,i)}):this.submit(t,i)}submit(t,r){this.isEdit&&this.workOrderOID?this.webService.updateEntity(this.workOrderOID,r).subscribe(n=>{n&&this.globalService.showBasicAlert(f.I.success,this.translateService.instant("successfully"),this.translateService.instant("workOrderIsSuccessfullyUpdated"))}):this.createWorkOrderRequest(t,r)}createWorkOrderRequest(t,r){this.subs.sink=this.webService.createEntity(r).subscribe(n=>{n&&(this.globalService.showBasicAlert(f.I.success,this.translateService.instant("successfully"),this.translateService.instant("newWorkOrderIsSuccessfullyCreated")),window.open("#/print/work-order-view/"+n.oid),t?this.router.navigate(["invoices","create"],{queryParams:{workOrderOID:n.oid}}):location.reload())})}openedToggleOnUomSelect(t,r){var n,i;!t&&(null===(n=this.getUOM(r))||void 0===n?void 0:n.value)&&this.uomChanged(null===(i=this.getUOM(r))||void 0===i?void 0:i.value,r)}onKeypress(t,r,n=-1){var i;if("Enter"===t.key)switch(t.preventDefault(),r){case"number":this.setFocusOn("buyer");break;case"forPerson":this.setFocusOn("description");break;case"description":n<0?this.setFocusOn("dateOfCreate",0,!0):this.setFocusOn("uom",n);break;case"dateOfCreate":this.setFocusOn("placeOfIssue",0,!0);break;case"placeOfIssue":this.setFocusOn("description",n+2,!0);break;case"dimension1":this.setFocusOn("dimension2",n,!0);break;case"dimension2":this.setFocusOn("quantity",n,!0);break;case"quantity":this.setFocusOn("sumQuantity",n,!0);break;case"sumQuantity":this.setFocusOn("note",n,!0);break;case"note":n>=0&&!(null===(i=this.workOrderItemsFormArr.controls[n+1])||void 0===i?void 0:i.value)&&this.addNewItem(this.workOrderItemsFormArr.controls[n].value),setTimeout(()=>{this.setFocusOn("description",n+2,!0)})}}setFocusOn(t,r=0,n=!1){const i=this.el.nativeElement.querySelectorAll('[formcontrolname="'+t+'"]')[r<0?0:r];null==i||i.focus(),n&&i.select()}_filter(t){const r=t.toLowerCase();return this.workOrderItemsOptions.filter(n=>n.toLowerCase().includes(r))}getFilteredOptions(t){return this.filteredOptions[t]}onFileSelected(t,r){const n=t.target.files[0];if(n){this.workOrderImages[r].file=n;const i=URL.createObjectURL(n);this.workOrderImages[r].oid="",this.workOrderImages[r].url=i,this.workOrderImages[r].fullUrl=i}this.formGroup.markAsDirty()}addNewImage(t){this.workOrderImages.push({oid:(null==t?void 0:t.oid)||"",url:(null==t?void 0:t.url)||"",fullUrl:(null==t?void 0:t.url)?(0,M.Er)(t.url):"",description:(null==t?void 0:t.description)||"",file:void 0})}removeImage(t){this.workOrderImages.splice(t,1),this.formGroup.markAsDirty()}uploadFile(t){var r;null===(r=this.fileCtrls.get(t))||void 0===r||r.nativeElement.click()}addSumOfGrindingItems(){this.addNewItem({oid:"",description:this.translateService.instant("grinding"),uom:"M",dimension1:0,dimension2:0,dimension3:0,quantity:this.sumOfGrinding,sumQuantity:this.sumOfGrinding,note:"",settled:!1}),this.sumOfGrinding=0}calculateWorkOrderSumOfGrinding(){this.sumOfGrinding=0;let t=0;this.sumForGrindingsItems.forEach(r=>{r.isCalculated&&(t+=Number(r.value))}),this.sumOfGrinding=t/1e3}calculateGrindingLengthForItem(t){var r,n,i;const s=(2*(null===(r=this.getDimension1(t))||void 0===r?void 0:r.value)+2*(null===(n=this.getDimension2(t))||void 0===n?void 0:n.value))*(null===(i=this.getQuantity(t))||void 0===i?void 0:i.value)+0;this.sumForGrindingsItems[t].value=s,this.calculateWorkOrderSumOfGrinding()}switchOnCalcBasedOnDescription(t){var r;(null===(r=this.getDescription(t))||void 0===r?void 0:r.value).toLowerCase().includes("kp obrad")&&(this.sumForGrindingsItems[t].isCalculated=!0)}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.F0),e.Y36(x.gz),e.Y36(te.U),e.Y36(k.y),e.Y36(u.X),e.Y36(Q.e),e.Y36(w.sK),e.Y36(re.G),e.Y36(D.o),e.Y36(L),e.Y36(e.SBq),e.Y36(ne.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-work-order-create-edit"]],viewQuery:function(t,r){if(1&t&&e.Gf(ae,5),2&t){let n;e.iGM(n=e.CRH())&&(r.fileCtrls=n)}},features:[e._Bn([D.o,u.X,Q.e,k.y,L])],decls:8,vars:5,consts:[[1,"wrapper"],[1,"container"],[1,"title"],["class","form",3,"formGroup",4,"ngIf"],["class","button-section",4,"ngIf"],[1,"form",3,"formGroup"],[1,"row"],["type","text","appDecimal","","matInput","","formControlName","number",3,"keypress"],[1,"bottom-padding",3,"isTransparentMode","text","clickEvent"],["formControlName","buyer","msInfiniteScroll","",3,"compareWith","disabled","valueChange","infiniteScroll","selectionChange"],[3,"formControl","placeholderLabel","noEntriesFoundLabel","hideClearSearchButton","clearSearchInput","searching","disableScrollToActiveOnOptionsChanged","ngModelChange"],[3,"value",4,"ngIf"],[4,"ngFor","ngForOf"],["class","create-buyer-button","class","bottom-padding",3,"iconName","disabled","clickEvent",4,"ngIf"],["type","text","matInput","","formControlName","forPerson",3,"keypress"],["type","text","matInput","","formControlName","description",3,"keypress"],["type","date","matInput","","formControlName","dateOfCreate",3,"keypress"],["type","text","matInput","","formControlName","placeOfIssue",3,"keypress"],["formArrayName","workOrderItems",1,"work-order-items"],["class","work-order-item",4,"ngFor","ngForOf"],[1,"row","full-width","bottom-margin"],[1,"items-buttons"],[1,"big-button",3,"iconName","text","disabled","clickEvent"],["class","big-button",3,"iconName","text","isTransparentMode","disabled","clickEvent",4,"ngIf"],["class","sum-info",4,"ngIf"],[1,"text-area"],["matInput","","formControlName","note","rows","3",3,"keypress"],[1,"images"],["class","image",4,"ngFor","ngForOf"],[1,"add-image-button",3,"text","clickEvent"],[3,"value"],[1,"bottom-padding",3,"iconName","disabled","clickEvent"],[1,"work-order-item"],[1,"form-group",3,"formGroupName"],[1,"full-width"],["type","text","matInput","","formControlName","description",3,"matAutocomplete","keydown.enter","keypress","change"],["trigger","matAutocompleteTrigger"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"number-field"],["formControlName","uom",3,"focusout","openedChange"],["type","text","appDecimal","","matInput","","formControlName","dimension1",3,"keypress","change","focusout"],["type","text","appDecimal","","matInput","","formControlName","dimension2",3,"keypress","change","focusout"],["type","text","appDecimal","","matInput","","formControlName","quantity",3,"keypress","change","focusout"],["type","text","appDecimal","","matInput","","formControlName","sumQuantity",3,"keypress","change"],["type","text","matInput","","formControlName","note",3,"keypress"],[1,"additional-button",3,"iconName","isTransparentMode","clickEvent"],[1,"cons-measure-checkbox",3,"color","checked","change"],["class","cons-measure-checkbox",3,"color","ngModel","ngModelOptions","disabled","ngModelChange","change",4,"ngIf"],["class","small-number-input",4,"ngIf"],[1,"cons-measure-checkbox",3,"color","ngModel","ngModelOptions","disabled","ngModelChange","change"],[1,"small-number-input"],["type","text","matInput","","appDecimal","",3,"ngModel","ngModelOptions","ngModelChange","change"],[1,"big-button",3,"iconName","text","isTransparentMode","disabled","clickEvent"],[1,"sum-info"],["class","key",4,"ngIf"],["class","value",4,"ngIf"],[1,"key"],[1,"value1"],[1,"value2"],[1,"value"],[1,"image"],[1,"button-container"],[3,"iconName","isTransparentMode","clickEvent"],["type","file","hidden","",3,"change"],["fileCtrl",""],["type","text","matInput","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"image-preview",3,"ngStyle"],[1,"button-section"],["color","secondary",1,"cancel",3,"text","clickEvent"],[1,"update",3,"text","disabled","clickEvent"],["class","update",3,"text","disabled","clickEvent",4,"ngIf"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.YNc(6,Ae,64,86,"form",3),e.YNc(7,Ie,8,8,"div",4),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,3,r.isEdit?"editWorkOrder":"createWorkOrder")," "),e.xp6(2),e.Q6J("ngIf",r.formGroup),e.xp6(1),e.Q6J("ngIf",r.formGroup))},directives:[g.O5,a._Y,a.JL,a.sg,T.KE,T.hX,H.Nt,a.Fj,oe.U,a.JJ,a.u,ie.r,G.gD,U.s,se.ey,B.nu,a.oH,g.sg,a.CE,a.x0,A.ZL,A.XC,j.oG,a.On,g.PC],pipes:[w.X$,g.Ov,g.JJ],styles:[".wrapper[_ngcontent-%COMP%]{height:calc(100%)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 50px);overflow-y:auto}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;border-bottom:2px dotted var(--color-main-light)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex-direction:column;margin-top:20px;display:flex;width:100%}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .items-buttons[_ngcontent-%COMP%]{display:flex}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .items-buttons[_ngcontent-%COMP%]   .big-button[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .bottom-padding[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1.34375em;margin-left:20px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row.full-width[_ngcontent-%COMP%]{justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .sum-info[_ngcontent-%COMP%]{display:flex;border:2px solid var(--color-main-dark)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .sum-info[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:130px;align-items:center;justify-content:space-evenly;border-right:1px dotted var(--color-main-dark);font-weight:600}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .sum-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:100px;padding-right:10px;align-items:flex-end;justify-content:space-evenly;border-right:2px solid var(--color-main-dark)}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{min-width:400px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row.bottom-margin[_ngcontent-%COMP%]{margin-bottom:20px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .work-order-items[_ngcontent-%COMP%]   .work-order-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .work-order-items[_ngcontent-%COMP%]   .work-order-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{flex-grow:1}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .work-order-items[_ngcontent-%COMP%]   .work-order-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .number-field[_ngcontent-%COMP%]{flex-shrink:1;max-width:100px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .work-order-items[_ngcontent-%COMP%]   .work-order-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .additional-button[_ngcontent-%COMP%]{margin:10px 5px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .add-image-button[_ngcontent-%COMP%]{margin-bottom:20px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%;height:60px;flex-direction:row;align-items:center;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:100%}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{margin-right:20px}.cons-measure-checkbox[_ngcontent-%COMP%]{margin-top:15px}.images[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-main-light);margin:10px}.images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:space-evenly;border-bottom:1px dotted var(--color-main-light)}.images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{margin-top:10px}.images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:400px;width:400px;background-position:center;background-size:contain;background-repeat:no-repeat}.display-none[_ngcontent-%COMP%]{display:none}.small-number-input[_ngcontent-%COMP%]{width:70px}"]}),o})(),canActivate:[C.Y],data:{permission:"WORK_ORDER_CREATE"}}];let Ne=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[x.Bz.forChild(Pe)],x.Bz]}),o})();var qe=c(2024),We=c(7707),Se=c(6688),Fe=c(7942),Je=c(5245),Qe=c(9139),De=c(7012);let Le=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.ez,Ne,w.aw,qe.h,We.R,a.UX,a.u5,H.c,T.lN,G.LD,Qe._,Se.Hi,Fe.p,Je.Ps,B.Co,U.I,j.p9,De.o,A.Bb]]}),o})()},3336:(J,Z,c)=>{c.d(Z,{U:()=>x});var g=c(7716);let x=(()=>{class C{constructor(u){this.el=u}keyup(){this.validateNumber(this.el.nativeElement.value)}validateNumber(u){u=u.replace(/[^\d,.-]/g,"");let f=-1;for(let _=0;_<u.length;_++)if("."===u.charAt(_)||","===u.charAt(_)){f=_;break}u=(u=u.replaceAll(".","")).replaceAll(",",""),0===f?u="0."+u:f>0&&(u=u.substring(0,f)+"."+(u.length>f?u.substring(f):"")),this.el.nativeElement.value=u}}return C.\u0275fac=function(u){return new(u||C)(g.Y36(g.SBq))},C.\u0275dir=g.lG2({type:C,selectors:[["","appDecimal",""]],hostBindings:function(u,f){1&u&&g.NdJ("keyup",function(){return f.keyup()})}}),C})()},7379:(J,Z,c)=>{c.d(Z,{e:()=>f});var g=c(4292),x=c(136),C=c(3749),a=c(7716),u=c(7515);let f=(()=>{class _ extends g.h{constructor(k){super(k,C.w,x.Hz),this.baseWebService=k}}return _.\u0275fac=function(k){return new(k||_)(a.LFG(u.I))},_.\u0275prov=a.Yz7({token:_,factory:_.\u0275fac}),_})()}}]);