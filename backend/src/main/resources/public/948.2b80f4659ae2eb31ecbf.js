"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[948],{3948:(R,u,n)=>{n.r(u),n.d(u,{IncomesModule:()=>Y});var r=n(8583),l=n(4655),Z=n(7095),h=n(4936),A=n(4794),T=n(3851),v=n(5153),C=n(287),p=n(5595),b=n(4463),g=n(7650),e=n(7716),f=n(8794),m=n(9805),x=n(8933),I=n(4605),S=n(42),E=n(4286),y=n(4237);function M(i,c){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",9),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"div",9),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"div",9),e.TgZ(15,"app-button",11),e.NdJ("clickEvent",function(){const a=e.CHM(t).$implicit;return e.oxw().editIncome(a.oid)}),e.qZA(),e.qZA(),e.TgZ(16,"div",9),e.TgZ(17,"app-button",11),e.NdJ("clickEvent",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteIncome(a)}),e.qZA(),e.qZA(),e.BQk()}if(2&i){const t=c.$implicit;e.xp6(2),e.hij(" ",t.buyer.name," "),e.xp6(2),e.hij(" ",e.xi3(5,9,t.date,"dd.MM.yyyy")," "),e.xp6(3),e.hij(" ",e.Dn7(8,12,t.amount,"1.2-2","de")," "),e.xp6(3),e.hij(" ",t.bankStatementNumber," "),e.xp6(2),e.hij(" ",e.Dn7(13,16,t.comment,"1.2-2","de")," "),e.xp6(3),e.Q6J("iconName","edit")("isTransparentMode",!0),e.xp6(2),e.Q6J("iconName","trash-2")("isTransparentMode",!0)}}const L=[{path:"",component:(()=>{class i{constructor(t,o,s,a,d,B,D,Q){this.globalService=t,this.translateService=o,this.webService=s,this.sweetAlertService=a,this.listEntities=d,this.router=B,this.incomeCreateEditPopupService=D,this.authStoreService=Q,this.subs=new b.L,this.isLoading=this.listEntities.isLoading,this.entities=this.listEntities.entities,this.keyword=""}ngOnInit(){this.subs.sink=this.listEntities.setWebService(this.webService).requestFirstPage()}hasPrivilege(t){return this.authStoreService.isAllowed(t)}inputSearchHandler(t){const o=new C.h;o.criteriaQuick=t,this.listEntities.setFilter(o)}outcomes(){this.router.navigate(["outcomes"])}createIncome(){this.incomeCreateEditPopupService.openDialog().subscribe(t=>{t&&this.listEntities.requestFirstPage()})}editIncome(t){this.incomeCreateEditPopupService.openDialog(t).subscribe(o=>{o&&this.listEntities.requestFirstPage()})}deleteIncome(t){this.subs.sink.$deleteIncome=this.sweetAlertService.getDataBackFromSweetAlert().subscribe(s=>{s&&s.confirmed&&(this.subs.sink=this.webService.deleteEntity([t]).subscribe(()=>{this.globalService.showBasicAlert(A.I.success,this.translateService.instant("incomeDeleted"),this.translateService.instant("incomeHaveBeenSuccessfullyDeleted")),this.listEntities.requestFirstPage()}))});const o={mode:"warning",icon:"alert-triangle",type:{name:T.N.submit,buttons:{submit:this.translateService.instant("delete"),cancel:this.translateService.instant("cancel")}},title:this.translateService.instant("deleteIncome"),message:this.translateService.instant("areYouSureYouWantToDeleteTheIncome")};this.sweetAlertService.openMeSweetAlert(o)}bottomReachedHandler(){this.listEntities.requestNextPage()}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.U),e.Y36(m.sK),e.Y36(g.L),e.Y36(v.T),e.Y36(p.y),e.Y36(l.F0),e.Y36(h.x),e.Y36(x.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-incomes"]],features:[e._Bn([g.L,v.T,p.y,h.x])],decls:34,vars:38,consts:[[1,"container"],[1,"search-bar"],[3,"placeholder","keyword","changeEvent"],[3,"text","disabled","clickEvent"],[3,"text","clickEvent"],["scrollToBottom","",1,"incomes",3,"componentLoading","bottomReached"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header"],[4,"ngFor","ngForOf"],[1,"grid-item"],[1,"grid-item","align-right"],[3,"iconName","isTransparentMode","clickEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"app-search-input",2),e.NdJ("changeEvent",function(a){return o.inputSearchHandler(a)}),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"app-button",3),e.NdJ("clickEvent",function(){return o.createIncome()}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"app-button",4),e.NdJ("clickEvent",function(){return o.outcomes()}),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.NdJ("bottomReached",function(){return o.bottomReachedHandler()}),e.ALo(9,"async"),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",7),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",7),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",7),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",7),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",7),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.YNc(32,M,18,20,"ng-container",8),e.ALo(33,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,14,"searchFor"))("keyword",o.keyword),e.xp6(2),e.Q6J("text",e.lcZ(5,16,"createIncome"))("disabled",!o.hasPrivilege("INCOME_CREATE")),e.xp6(2),e.Q6J("text",e.lcZ(7,18,"outcomes")),e.xp6(2),e.Q6J("componentLoading",e.lcZ(9,20,o.isLoading)||!1),e.xp6(4),e.hij(" ",e.lcZ(13,22,"buyerName")," "),e.xp6(3),e.hij(" ",e.lcZ(16,24,"date")," "),e.xp6(3),e.hij(" ",e.lcZ(19,26,"amount")," "),e.xp6(3),e.hij(" ",e.lcZ(22,28,"bankStatementNumber")," "),e.xp6(3),e.hij(" ",e.lcZ(25,30,"comment")," "),e.xp6(3),e.hij(" ",e.lcZ(28,32,"edit")," "),e.xp6(3),e.hij(" ",e.lcZ(31,34,"delete")," "),e.xp6(2),e.Q6J("ngForOf",e.lcZ(33,36,o.entities)))},directives:[I.J,S.r,E.C,y.T,r.sg],pipes:[m.X$,r.Ov,r.uU,r.JJ],styles:["[_nghost-%COMP%]{display:flex;height:calc(100%)}.container[_ngcontent-%COMP%]{height:calc(100%)}.container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]   .incomes[_ngcontent-%COMP%]{height:calc(100% - 120px);overflow-y:auto;margin-top:20px}.container[_ngcontent-%COMP%]   .incomes[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto auto auto}"]}),i})(),canActivate:[Z.Y],data:{permission:"INCOMES_VIEW"}}];let P=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.Bz.forChild(L)],l.Bz]}),i})();var J=n(2024),N=n(2763),F=n(6460),O=n(8109),j=n(8287),U=n(6225);let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[r.ez,P,m.aw,J.h,N.i,F.n,O.V,j.n,U.y]]}),i})()}}]);