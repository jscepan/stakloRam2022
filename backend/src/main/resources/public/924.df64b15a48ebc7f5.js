"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[924],{7095:(C,d,t)=>{t.d(d,{Y:()=>l});var n=t(4794),o=t(5e3),m=t(8933),v=t(8794),g=t(8555),E=t(9285);let l=(()=>{class u{constructor(_,a,f,i){this.authStoreService=_,this.globalService=a,this.router=f,this.translateService=i}canActivate(_){var a;return!(!(null===(a=this.authStoreService.user)||void 0===a?void 0:a.roles)||!this.authStoreService.isAllowed(_.data.permission))||(this.globalService.showBasicAlert(n.I.error,this.translateService.instant("accessDenied"),this.translateService.instant("youDontHaveAccess")),!1)}}return u.\u0275fac=function(_){return new(_||u)(o.LFG(m.g),o.LFG(v.U),o.LFG(g.F0),o.LFG(E.sK))},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6924:(C,d,t)=>{t.r(d),t.d(d,{DebtorsReviewModule:()=>x});var n=t(9808),o=t(9285),m=t(2024),v=t(8966),g=t(3497),E=t(6460),l=t(8287),u=t(8555),h=t(7095),_=t(4463),a=t(2134),f=t(29),i=t(1558),e=t(5e3),I=t(4605),A=t(773),M=t(42);function T(r,p){1&r&&(e.TgZ(0,"div",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"noResults")," "))}function b(r,p){1&r&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner"),e.qZA())}function y(r,p){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"div",10),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"div",10)(13,"app-button",11),e.NdJ("clickEvent",function(){const O=e.CHM(s).$implicit;return e.oxw().viewDebtor(O)}),e.ALo(14,"translate"),e.qZA()(),e.BQk()}if(2&r){const s=p.$implicit;e.xp6(2),e.Oqu(null==s.buyer?null:s.buyer.name),e.xp6(2),e.Oqu(e.Dn7(5,5,s.debtSum,"1.2-2","de")),e.xp6(3),e.Oqu(e.Dn7(8,9,s.positiveSum,"1.2-2","de")),e.xp6(3),e.Oqu(e.Dn7(11,13,s.negativeSum,"1.2-2","de")),e.xp6(3),e.Q6J("text",e.lcZ(14,17,"view"))}}const P=[{path:"",component:(()=>{class r{constructor(s,c){this.webService=s,this.router=c,this.subs=new _.L,this.allDebtors=[],this.entities=[],this.isLoading=!0}ngOnInit(){this.webService.getAllDebtors().subscribe(s=>{this.allDebtors=s,this.entities=s,this.isLoading=!1})}viewDebtor(s){var c;window.open("#/print/debtor/"+(null===(c=s.buyer)||void 0===c?void 0:c.oid))}inputSearchHandler(s){this.isLoading=!0,this.entities=[],this.allDebtors.forEach(c=>{var D;(0,a.B4)(s,[(null===(D=c.buyer)||void 0===D?void 0:D.name)||""])&&this.entities.push(c)}),this.isLoading=!1}ngOnDestroy(){this.subs.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(i.X),e.Y36(u.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-debtors-review"]],features:[e._Bn([f.N,i.X])],decls:23,vars:21,consts:[[1,"container"],[1,"search-bar"],[3,"placeholder","changeEvent"],[1,"grid-container","standard-grid-table"],[1,"grid-item","header","sticky"],["class","no-results",4,"ngIf"],["class","spinner",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"no-results"],[1,"spinner"],[1,"grid-item"],[3,"text","clickEvent"]],template:function(s,c){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-search-input",2),e.NdJ("changeEvent",function(O){return c.inputSearchHandler(O)}),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",4),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",4),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",4),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,T,3,3,"div",5),e.YNc(21,b,2,0,"div",6),e.YNc(22,y,15,19,"ng-container",7),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,9,"searchFor")),e.xp6(4),e.Oqu(e.lcZ(7,11,"buyer")),e.xp6(3),e.Oqu(e.lcZ(10,13,"state")),e.xp6(3),e.Oqu(e.lcZ(13,15,"owed")),e.xp6(3),e.Oqu(e.lcZ(16,17,"debt")),e.xp6(3),e.Oqu(e.lcZ(19,19,"view")),e.xp6(2),e.Q6J("ngIf",0===c.entities.length&&!c.isLoading),e.xp6(1),e.Q6J("ngIf",c.isLoading),e.xp6(1),e.Q6J("ngForOf",c.entities))},directives:[I.J,n.O5,A.Ou,n.sg,M.r],pipes:[o.X$,n.JJ],styles:[".container[_ngcontent-%COMP%]{height:100%;min-width:500px}.container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto auto;max-height:calc(100% - 100px);overflow-y:auto}"]}),r})(),canActivate:[h.Y],data:{permission:"DEBTORS_VIEW"}}];let Z=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.Bz.forChild(P)],u.Bz]}),r})(),x=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[n.ez,Z,o.aw,m.h,v.Is,g.N,E.n,l.n,A.Cq]]}),r})()},4605:(C,d,t)=>{t.d(d,{J:()=>_});var n=t(5e3),o=t(3075),m=t(13),v=t(7322),g=t(7531),E=t(9808),l=t(6541);function u(a,f){1&a&&n._UZ(0,"i-feather",4)}function h(a,f){if(1&a){const i=n.EpF();n.TgZ(0,"i-feather",5),n.NdJ("click",function(){return n.CHM(i),n.oxw().resetSearchInputValue()}),n.qZA()}}let _=(()=>{class a{constructor(){this.keyword="",this.placeholder="Search for...",this.debounceTime=500,this.minCharacters=1,this.changeEvent=new n.vpe,this.searchInput=new o.NI}ngOnInit(){this.inputChangeSubscription=this.searchInput.valueChanges.pipe((0,m.b)(this.debounceTime)).subscribe(()=>{(0===this.searchInput.value.length||this.searchInput.value.length>=this.minCharacters)&&this.changeEvent.emit(this.searchInput.value)})}ngOnChanges(i){i.keyword&&i.keyword.previousValue&&i.keyword.currentValue!==i.keyword.previousValue&&this.searchInput.setValue(this.keyword,{emitEvent:!1})}resetSearchInputValue(){this.searchInput.setValue("")}ngOnDestroy(){this.inputChangeSubscription.unsubscribe()}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-search-input"]],inputs:{keyword:"keyword",placeholder:"placeholder",debounceTime:"debounceTime",minCharacters:"minCharacters"},outputs:{changeEvent:"changeEvent"},features:[n.TTD],decls:6,vars:5,consts:[[1,"me-search-input-form-field"],["type","text","matInput","",3,"formControl","autocomplete"],["matSuffix","","name","search","class","search-icon",4,"ngIf"],["name","x","class","close","matSuffix","",3,"click",4,"ngIf"],["matSuffix","","name","search",1,"search-icon"],["name","x","matSuffix","",1,"close",3,"click"]],template:function(i,e){1&i&&(n.TgZ(0,"mat-form-field",0)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",1),n.YNc(4,u,1,0,"i-feather",2),n.YNc(5,h,1,0,"i-feather",3),n.qZA()),2&i&&(n.xp6(2),n.Oqu(e.placeholder),n.xp6(1),n.Q6J("formControl",e.searchInput)("autocomplete","off"),n.xp6(1),n.Q6J("ngIf",!e.searchInput.value),n.xp6(1),n.Q6J("ngIf",e.searchInput.value))},directives:[v.KE,v.hX,g.Nt,o.Fj,o.JJ,o.oH,E.O5,l.uy,v.R9],styles:[".me-search-input-form-field .mat-form-field-wrapper{padding-bottom:0}\n"],encapsulation:2,changeDetection:0}),a})()},9360:(C,d,t)=>{t.d(d,{K:()=>o});var n=t(8228);class o extends n.g{constructor(){super(...arguments),this.description="",this.identificationCode=""}}},29:(C,d,t)=>{t.d(d,{N:()=>E});var n=t(4292),o=t(136),m=t(9360),v=t(5e3),g=t(3164);let E=(()=>{class l extends n.h{constructor(h){super(h,m.K,o.HT),this.baseWebService=h}}return l.\u0275fac=function(h){return new(h||l)(v.LFG(g.I))},l.\u0275prov=v.Yz7({token:l,factory:l.\u0275fac}),l})()}}]);